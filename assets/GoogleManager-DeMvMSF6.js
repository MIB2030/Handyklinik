import{s as m,j as e}from"./index-CZKUiuie.js";import{r}from"./react-vendor-CyQtAcHN.js";import{h as J,X as M,J as Z,R as O,p as v,y as P,m as z,n as q,g as K,Q as H,Y as L,Z as Q,M as ee,z as se,b as te,_ as re}from"./icons-CZgF3DbW.js";import"./supabase-BIynZPkb.js";function ae(){const[n,u]=r.useState([]),[w,_]=r.useState([]),[o,S]=r.useState({total:0,visible:0,featured:0,average_rating:0,five_star:0,four_star:0,three_star:0,two_star:0,one_star:0}),[I,k]=r.useState(!0),[g,C]=r.useState(!1),[h,E]=r.useState("all"),[f,b]=r.useState(!1),[R,p]=r.useState(!1),[l,c]=r.useState(!1),[d,F]=r.useState(null),[a,y]=r.useState({author_name:"",rating:5,text:"",time:new Date().toISOString().split("T")[0],author_photo_url:""});r.useEffect(()=>{N(),A()},[]),r.useEffect(()=>{n.length>0&&Y(n)},[n]),r.useEffect(()=>{if(d){const s=setTimeout(()=>{F(null)},5e3);return()=>clearTimeout(s)}},[d]);const x=(s,t)=>{F({type:s,message:t})},N=async()=>{try{const{data:s,error:t}=await m.from("google_reviews").select("*").order("time",{ascending:!1});if(t)throw t;u(s||[])}catch(s){console.error("Error fetching reviews:",s)}finally{k(!1)}},A=async()=>{try{const{data:s,error:t}=await m.from("google_reviews_sync_log").select("*").order("synced_at",{ascending:!1}).limit(10);if(t)throw t;_(s||[])}catch(s){console.error("Error fetching sync logs:",s)}},Y=s=>{const t=s.reduce((i,U)=>i+U.rating,0),j={total:s.length,visible:s.filter(i=>i.is_visible).length,featured:s.filter(i=>i.is_featured).length,average_rating:s.length>0?t/s.length:0,five_star:s.filter(i=>i.rating===5).length,four_star:s.filter(i=>i.rating===4).length,three_star:s.filter(i=>i.rating===3).length,two_star:s.filter(i=>i.rating===2).length,one_star:s.filter(i=>i.rating===1).length};S(j)},B=async()=>{C(!0);try{const s=await fetch("https://lnimxmbghbdadbotjyan.supabase.co/functions/v1/sync-google-reviews",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaW14bWJnaGJkYWRib3RqeWFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjMzMzgsImV4cCI6MjA4MDY5OTMzOH0.4jrkeiOdsY__oJ5FNFVYmcju2uklb5jXYYiUVt3F_Aw","Content-Type":"application/json",apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaW14bWJnaGJkYWRib3RqeWFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjMzMzgsImV4cCI6MjA4MDY5OTMzOH0.4jrkeiOdsY__oJ5FNFVYmcju2uklb5jXYYiUVt3F_Aw"},body:JSON.stringify({triggeredBy:"manual"})}),t=await s.json();if(!s.ok)throw new Error(t.error||"Sync failed");x("success",`Erfolg! ${t.totalReviews} Bewertungen synchronisiert (${t.newReviews} neu, ${t.updatedReviews} aktualisiert)`),await N(),await A()}catch(s){console.error("Error syncing reviews:",s),x("error",`Fehler beim Synchronisieren: ${s.message}`)}finally{C(!1)}},T=async()=>{if(!a.author_name||!a.text){x("error","Bitte Name und Bewertungstext ausfüllen");return}c(!0);try{const t=`manual_${new Date(a.time).getTime()}_${a.author_name.replace(/\s/g,"_")}`,{error:j}=await m.from("google_reviews").insert({google_review_id:t,author_name:a.author_name,author_photo_url:a.author_photo_url||null,rating:a.rating,text:a.text,time:new Date(a.time).toISOString(),relative_time_description:"Manuell importiert",is_visible:!0,is_featured:a.rating===5});if(j)throw j;x("success","Bewertung erfolgreich hinzugefügt!"),p(!1),y({author_name:"",rating:5,text:"",time:new Date().toISOString().split("T")[0],author_photo_url:""}),await N()}catch(s){console.error("Error importing review:",s),x("error",`Fehler beim Importieren: ${s.message}`)}finally{c(!1)}},V=async s=>{try{const{error:t}=await m.from("google_reviews").update({is_visible:!s.is_visible}).eq("id",s.id);if(t)throw t;await N()}catch(t){console.error("Error toggling visibility:",t),x("error","Fehler beim Aktualisieren der Sichtbarkeit")}},W=async s=>{try{const{error:t}=await m.from("google_reviews").update({is_featured:!s.is_featured}).eq("id",s.id);if(t)throw t;await N()}catch(t){console.error("Error toggling featured:",t),x("error","Fehler beim Aktualisieren des Featured-Status")}},D=s=>new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),X=s=>e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>e.jsx(v,{className:`w-4 h-4 ${t<=s?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},t))}),G=(()=>{let s=[...n];return h!=="all"&&(s=s.filter(t=>t.rating===h)),f&&(s=s.filter(t=>t.is_visible)),s})();return I?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-gray-600",children:"Lade Bewertungen..."})}):e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-md rounded-lg shadow-lg p-4 flex items-center space-x-3 ${d.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[d.type==="success"?e.jsx(J,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):e.jsx(M,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("p",{className:`text-sm font-medium ${d.type==="success"?"text-green-800":"text-red-800"}`,children:d.message}),e.jsx("button",{onClick:()=>F(null),className:`ml-auto flex-shrink-0 ${d.type==="success"?"text-green-600 hover:text-green-800":"text-red-600 hover:text-red-800"}`,children:e.jsx(M,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Google Reviews Verwaltung"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{children:"Manuell hinzufügen"})]}),e.jsxs("button",{onClick:B,disabled:g,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(O,{className:`w-5 h-5 ${g?"animate-spin":""}`}),e.jsx("span",{children:g?"Synchronisieren":"Google Sync"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Gesamt"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.total})]}),e.jsx(v,{className:"w-12 h-12 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sichtbar"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.visible})]}),e.jsx(P,{className:"w-12 h-12 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Featured"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:o.featured})]}),e.jsx(z,{className:"w-12 h-12 text-yellow-600"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Durchschnitt"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-500",children:o.average_rating.toFixed(1)})]}),e.jsx(q,{className:"w-12 h-12 text-yellow-500"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Bewertungsverteilung"}),e.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(s=>{const t=o[`${["","","one","two","three","four","five"][s]}_star`],j=o.total>0?t/o.total*100:0;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-1 w-20",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s}),e.jsx(v,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"})]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"bg-yellow-400 h-4 rounded-full transition-all",style:{width:`${j}%`}})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 w-12 text-right",children:t})]},s)})})]}),w.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Letzte Synchronisationen"}),e.jsx("div",{className:"space-y-2",children:w.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(K,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:D(s.synced_at)}),s.status==="success"?e.jsx(J,{className:"w-4 h-4 text-green-600"}):e.jsx(M,{className:"w-4 h-4 text-red-600"})]}),e.jsxs("div",{className:"text-sm text-gray-700",children:[s.reviews_count," Reviews (",s.new_reviews_count," neu)",s.triggered_by==="manual"&&e.jsx("span",{className:"ml-2 text-xs text-blue-600",children:"(Manuell)"})]})]},s.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("select",{value:h,onChange:s=>E(s.target.value==="all"?"all":Number(s.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Alle Bewertungen"}),e.jsx("option",{value:"5",children:"5 Sterne"}),e.jsx("option",{value:"4",children:"4 Sterne"}),e.jsx("option",{value:"3",children:"3 Sterne"}),e.jsx("option",{value:"2",children:"2 Sterne"}),e.jsx("option",{value:"1",children:"1 Stern"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:s=>b(s.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Nur sichtbare"})]})]})}),e.jsxs("div",{className:"divide-y divide-gray-200",children:[G.map(s=>e.jsx("div",{className:"p-6 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex space-x-4 flex-1",children:[s.author_photo_url&&e.jsx("img",{src:s.author_photo_url,alt:s.author_name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:s.author_name}),s.is_featured&&e.jsx(z,{className:"w-4 h-4 text-yellow-500"})]}),X(s.rating),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D(s.time)}),s.text&&e.jsx("p",{className:"text-gray-700 mt-3",children:s.text})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsx("button",{onClick:()=>V(s),className:`p-2 rounded-lg transition-colors ${s.is_visible?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:s.is_visible?"Ausblenden":"Einblenden",children:s.is_visible?e.jsx(P,{className:"w-5 h-5"}):e.jsx(H,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>W(s),className:`p-2 rounded-lg transition-colors ${s.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:s.is_featured?"Von Featured entfernen":"Als Featured markieren",children:e.jsx(z,{className:"w-5 h-5"})})]})]})},s.id)),G.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Keine Bewertungen gefunden"}),n.length===0&&e.jsx("button",{onClick:B,disabled:g,className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Jetzt Google Reviews synchronisieren"})]})]})]}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bewertung manuell hinzufügen"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(M,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Hinweis: Google Places API gibt max. 5 Reviews zurück. Hier können Sie weitere Bewertungen manuell hinzufügen."})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name des Bewerters *"}),e.jsx("input",{type:"text",value:a.author_name,onChange:s=>y({...a,author_name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"z.B. Max Mustermann"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bewertung *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[[1,2,3,4,5].map(s=>e.jsx("button",{onClick:()=>y({...a,rating:s}),className:"focus:outline-none",children:e.jsx(v,{className:`w-8 h-8 transition-colors ${s<=a.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`})},s)),e.jsxs("span",{className:"ml-2 text-lg font-medium text-gray-700",children:[a.rating," Stern",a.rating!==1?"e":""]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bewertungstext *"}),e.jsx("textarea",{value:a.text,onChange:s=>y({...a,text:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Bewertungstext..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum der Bewertung *"}),e.jsx("input",{type:"date",value:a.time,onChange:s=>y({...a,time:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Profilbild-URL (optional)"}),e.jsx("input",{type:"url",value:a.author_photo_url,onChange:s=>y({...a,author_photo_url:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Abbrechen"}),e.jsx("button",{onClick:T,disabled:l,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Wird hinzugefügt...":"Bewertung hinzufügen"})]})]})})]})}const $="00000000-0000-0000-0000-000000000001";function le(){const[n,u]=r.useState(null),[w,_]=r.useState(""),[o,S]=r.useState(""),[I,k]=r.useState(!1),[g,C]=r.useState(!0),[h,E]=r.useState(!1),[f,b]=r.useState(null);r.useEffect(()=>{R()},[]);const R=async()=>{try{const{data:l,error:c}=await m.from("google_settings").select("*").eq("id",$).maybeSingle();if(c)throw c;l&&(u(l),_(l.api_key||""),S(l.place_id||""),k(l.auto_sync_enabled||!1))}catch(l){console.error("Error fetching settings:",l),b({type:"error",text:"Fehler beim Laden der Einstellungen"})}finally{C(!1)}},p=async l=>{l.preventDefault(),E(!0),b(null);try{const{error:c}=await m.from("google_settings").upsert({id:$,api_key:w.trim()||null,place_id:o.trim()||null,auto_sync_enabled:I,updated_at:new Date().toISOString()},{onConflict:"id"});if(c)throw c;b({type:"success",text:"Einstellungen erfolgreich gespeichert!"}),await R()}catch(c){console.error("Error saving settings:",c),b({type:"error",text:"Fehler beim Speichern der Einstellungen"})}finally{E(!1)}};return g?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(L,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-2",children:"So richten Sie Google Reviews ein:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsxs("li",{children:["Besuchen Sie die ",e.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Google Cloud Console"})]}),e.jsx("li",{children:"Erstellen Sie ein neues Projekt oder wählen Sie ein bestehendes aus"}),e.jsx("li",{children:'Aktivieren Sie die "Places API" für Ihr Projekt'}),e.jsx("li",{children:'Erstellen Sie einen API-Schlüssel unter "APIs & Dienste" → "Anmeldedaten"'}),e.jsxs("li",{children:["Finden Sie Ihre Place ID über die ",e.jsx("a",{href:"https://developers.google.com/maps/documentation/places/web-service/place-id",target:"_blank",rel:"noopener noreferrer",className:"underline font-medium",children:"Place ID Finder"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Google API Einstellungen"}),f&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${f.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:f.text}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Google Places API Key"]}),e.jsx("input",{type:"password",value:w,onChange:l=>_(l.target.value),placeholder:"••••••••••••••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ihr API-Schlüssel aus der Google Cloud Console"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Google Place ID"]}),e.jsx("input",{type:"password",value:o,onChange:l=>S(l.target.value),placeholder:"••••••••••••••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Die eindeutige ID Ihres Google Business Profils"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(O,{className:"w-5 h-5 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Automatische Synchronisierung"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Reviews automatisch alle 24 Stunden abrufen"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:l=>k(l.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(n==null?void 0:n.last_sync_at)&&e.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:["Letzte Synchronisierung: ",new Date(n.last_sync_at).toLocaleString("de-DE")]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{type:"submit",disabled:h,className:"flex items-center space-x-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:h?"Speichern...":"Einstellungen speichern"})]})})]})]})]})}function xe(){const[n,u]=r.useState("reviews");return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Google Reviews"}),e.jsx("p",{className:"text-gray-600",children:"Verwalten Sie Google Bewertungen und API-Einstellungen"})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>u("reviews"),className:`
              flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"Google Reviews"})]}),e.jsxs("button",{onClick:()=>u("settings"),className:`
              flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
              ${n==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[e.jsx(re,{className:"w-5 h-5"}),e.jsx("span",{children:"Einstellungen"})]})]})}),e.jsxs("div",{className:"mt-6",children:[n==="reviews"&&e.jsx(ae,{}),n==="settings"&&e.jsx(le,{})]})]})}export{xe as default};
