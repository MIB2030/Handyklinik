const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Impressum-D3lyMM45.js","./LegalPage-B3JKY7wt.js","./react-vendor-CyQtAcHN.js","./icons-D7vnYvoJ.js","./supabase-BIynZPkb.js","./Datenschutz-DA-PU7JJ.js","./AGB-2tcclhB8.js","./Kontakt-CP9afoSd.js","./CookieRichtlinie-DNvfTOY5.js","./ArticleDetail-CK_XEUVf.js","./AdminLayout-CjoTYorI.js","./AdminDashboard-BqL1mXdC.js","./ArticleManager-C0W9PSRZ.js","./ContentManager-CiDOEMBg.js","./PageTextManager-BSt-7Kl7.js","./PriceManager-HLhXoS_n.js","./FAQManager-pdoNF9bj.js","./GoogleManager-BS5IwlbW.js","./UserManager-D3JmoP82.js","./VoucherManager-DwoJ6fyu.js","./HeroSlideManager-CVOv802N.js","./PopManager-DxGS6jty.js","./LegalConfigManager-Bh11x9A-.js","./VacationModeManager-D4UzwGc4.js"])))=>i.map(i=>d[i]);
var et=Object.defineProperty;var tt=(t,s,r)=>s in t?et(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r;var $=(t,s,r)=>tt(t,typeof s!="symbol"?s+"":s,r);import{r as o,a as st,b as ye,R as H,L as se,N as rt,d as at,e as w,B as nt}from"./react-vendor-CyQtAcHN.js";import{c as ve,_ as k}from"./supabase-BIynZPkb.js";import{C as De,a as re,I as lt,W as it,S as ot,X as F,M as Ne,b as we,E as Pe,c as ct,d as ae,e as dt,T as mt,A as xt,G as L,f as me,P as ut,g as q,h as Se,i as ke,j as U,k as ce,D as ht,l as ft,m as gt,n as pt,o as Ce,L as bt,p as jt}from"./icons-D7vnYvoJ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();var $e={exports:{}},de={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=o,vt=Symbol.for("react.element"),Nt=Symbol.for("react.fragment"),wt=Object.prototype.hasOwnProperty,kt=yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_t={key:!0,ref:!0,__self:!0,__source:!0};function Le(t,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)wt.call(s,a)&&!_t.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:vt,type:t,key:l,ref:i,props:n,_owner:kt.current}}de.Fragment=Nt;de.jsx=Le;de.jsxs=Le;$e.exports=de;var e=$e.exports,Fe,Ae=st;Fe=Ae.createRoot,Ae.hydrateRoot;var St=typeof Element<"u",Ct=typeof Map=="function",At=typeof Set=="function",Tt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function ie(t,s){if(t===s)return!0;if(t&&s&&typeof t=="object"&&typeof s=="object"){if(t.constructor!==s.constructor)return!1;var r,a,n;if(Array.isArray(t)){if(r=t.length,r!=s.length)return!1;for(a=r;a--!==0;)if(!ie(t[a],s[a]))return!1;return!0}var l;if(Ct&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!s.has(a.value[0]))return!1;for(l=t.entries();!(a=l.next()).done;)if(!ie(a.value[1],s.get(a.value[0])))return!1;return!0}if(At&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!s.has(a.value[0]))return!1;return!0}if(Tt&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if(r=t.length,r!=s.length)return!1;for(a=r;a--!==0;)if(t[a]!==s[a])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof s.valueOf=="function")return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof s.toString=="function")return t.toString()===s.toString();if(n=Object.keys(t),r=n.length,r!==Object.keys(s).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(s,n[a]))return!1;if(St&&t instanceof Element)return!1;for(a=r;a--!==0;)if(!((n[a]==="_owner"||n[a]==="__v"||n[a]==="__o")&&t.$$typeof)&&!ie(t[n[a]],s[n[a]]))return!1;return!0}return t!==t&&s!==s}var It=function(s,r){try{return ie(s,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const Et=ye(It);var Mt=function(t,s,r,a,n,l,i,c){if(!t){var d;if(s===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[r,a,n,l,i,c],u=0;d=new Error(s.replace(/%s/g,function(){return x[u++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},Rt=Mt;const Te=ye(Rt);var Ot=function(s,r,a,n){var l=a?a.call(n,s,r):void 0;if(l!==void 0)return!!l;if(s===r)return!0;if(typeof s!="object"||!s||typeof r!="object"||!r)return!1;var i=Object.keys(s),c=Object.keys(r);if(i.length!==c.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(r),x=0;x<i.length;x++){var u=i[x];if(!d(u))return!1;var p=s[u],b=r[u];if(l=a?a.call(n,p,b,u):void 0,l===!1||l===void 0&&p!==b)return!1}return!0};const zt=ye(Ot);var Ve=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Ve||{}),xe={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Ie=Object.values(Ve),_e={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Dt=Object.entries(_e).reduce((t,[s,r])=>(t[r]=s,t),{}),z="data-rh",Y={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},J=(t,s)=>{for(let r=t.length-1;r>=0;r-=1){const a=t[r];if(Object.prototype.hasOwnProperty.call(a,s))return a[s]}return null},Pt=t=>{let s=J(t,"title");const r=J(t,Y.TITLE_TEMPLATE);if(Array.isArray(s)&&(s=s.join("")),r&&s)return r.replace(/%s/g,()=>s);const a=J(t,Y.DEFAULT_TITLE);return s||a||void 0},$t=t=>J(t,Y.ON_CHANGE_CLIENT_STATE)||(()=>{}),ue=(t,s)=>s.filter(r=>typeof r[t]<"u").map(r=>r[t]).reduce((r,a)=>({...r,...a}),{}),Lt=(t,s)=>s.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,a)=>{if(!r.length){const n=Object.keys(a);for(let l=0;l<n.length;l+=1){const c=n[l].toLowerCase();if(t.indexOf(c)!==-1&&a[c])return r.concat(a)}}return r},[]),Ft=t=>console&&typeof console.warn=="function"&&console.warn(t),ee=(t,s,r)=>{const a={};return r.filter(n=>Array.isArray(n[t])?!0:(typeof n[t]<"u"&&Ft(`Helmet: ${t} should be of type "Array". Instead found type "${typeof n[t]}"`),!1)).map(n=>n[t]).reverse().reduce((n,l)=>{const i={};l.filter(d=>{let x;const u=Object.keys(d);for(let b=0;b<u.length;b+=1){const f=u[b],m=f.toLowerCase();s.indexOf(m)!==-1&&!(x==="rel"&&d[x].toLowerCase()==="canonical")&&!(m==="rel"&&d[m].toLowerCase()==="stylesheet")&&(x=m),s.indexOf(f)!==-1&&(f==="innerHTML"||f==="cssText"||f==="itemprop")&&(x=f)}if(!x||!d[x])return!1;const p=d[x].toLowerCase();return a[x]||(a[x]={}),i[x]||(i[x]={}),a[x][p]?!1:(i[x][p]=!0,!0)}).reverse().forEach(d=>n.push(d));const c=Object.keys(i);for(let d=0;d<c.length;d+=1){const x=c[d],u={...a[x],...i[x]};a[x]=u}return n},[]).reverse()},Vt=(t,s)=>{if(Array.isArray(t)&&t.length){for(let r=0;r<t.length;r+=1)if(t[r][s])return!0}return!1},Ht=t=>({baseTag:Lt(["href"],t),bodyAttributes:ue("bodyAttributes",t),defer:J(t,Y.DEFER),encode:J(t,Y.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ue("htmlAttributes",t),linkTags:ee("link",["rel","href"],t),metaTags:ee("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ee("noscript",["innerHTML"],t),onChangeClientState:$t(t),scriptTags:ee("script",["src","innerHTML"],t),styleTags:ee("style",["cssText"],t),title:Pt(t),titleAttributes:ue("titleAttributes",t),prioritizeSeoTags:Vt(t,Y.PRIORITIZE_SEO_TAGS)}),He=t=>Array.isArray(t)?t.join(""):t,Ut=(t,s)=>{const r=Object.keys(t);for(let a=0;a<r.length;a+=1)if(s[r[a]]&&s[r[a]].includes(t[r[a]]))return!0;return!1},he=(t,s)=>Array.isArray(t)?t.reduce((r,a)=>(Ut(a,s)?r.priority.push(a):r.default.push(a),r),{priority:[],default:[]}):{default:t,priority:[]},Ee=(t,s)=>({...t,[s]:void 0}),Wt=["noscript","script","style"],ge=(t,s=!0)=>s===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Ue=t=>Object.keys(t).reduce((s,r)=>{const a=typeof t[r]<"u"?`${r}="${t[r]}"`:`${r}`;return s?`${s} ${a}`:a},""),Gt=(t,s,r,a)=>{const n=Ue(r),l=He(s);return n?`<${t} ${z}="true" ${n}>${ge(l,a)}</${t}>`:`<${t} ${z}="true">${ge(l,a)}</${t}>`},Bt=(t,s,r=!0)=>s.reduce((a,n)=>{const l=n,i=Object.keys(l).filter(x=>!(x==="innerHTML"||x==="cssText")).reduce((x,u)=>{const p=typeof l[u]>"u"?u:`${u}="${ge(l[u],r)}"`;return x?`${x} ${p}`:p},""),c=l.innerHTML||l.cssText||"",d=Wt.indexOf(t)===-1;return`${a}<${t} ${z}="true" ${i}${d?"/>":`>${c}</${t}>`}`},""),We=(t,s={})=>Object.keys(t).reduce((r,a)=>{const n=_e[a];return r[n||a]=t[a],r},s),Kt=(t,s,r)=>{const a={key:s,[z]:!0},n=We(r,a);return[H.createElement("title",n,s)]},oe=(t,s)=>s.map((r,a)=>{const n={key:a,[z]:!0};return Object.keys(r).forEach(l=>{const c=_e[l]||l;if(c==="innerHTML"||c==="cssText"){const d=r.innerHTML||r.cssText;n.dangerouslySetInnerHTML={__html:d}}else n[c]=r[l]}),H.createElement(t,n)}),O=(t,s,r=!0)=>{switch(t){case"title":return{toComponent:()=>Kt(t,s.title,s.titleAttributes),toString:()=>Gt(t,s.title,s.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>We(s),toString:()=>Ue(s)};default:return{toComponent:()=>oe(t,s),toString:()=>Bt(t,s,r)}}},qt=({metaTags:t,linkTags:s,scriptTags:r,encode:a})=>{const n=he(t,xe.meta),l=he(s,xe.link),i=he(r,xe.script);return{priorityMethods:{toComponent:()=>[...oe("meta",n.priority),...oe("link",l.priority),...oe("script",i.priority)],toString:()=>`${O("meta",n.priority,a)} ${O("link",l.priority,a)} ${O("script",i.priority,a)}`},metaTags:n.default,linkTags:l.default,scriptTags:i.default}},Yt=t=>{const{baseTag:s,bodyAttributes:r,encode:a=!0,htmlAttributes:n,noscriptTags:l,styleTags:i,title:c="",titleAttributes:d,prioritizeSeoTags:x}=t;let{linkTags:u,metaTags:p,scriptTags:b}=t,f={toComponent:()=>{},toString:()=>""};return x&&({priorityMethods:f,linkTags:u,metaTags:p,scriptTags:b}=qt(t)),{priority:f,base:O("base",s,a),bodyAttributes:O("bodyAttributes",r,a),htmlAttributes:O("htmlAttributes",n,a),link:O("link",u,a),meta:O("meta",p,a),noscript:O("noscript",l,a),script:O("script",b,a),style:O("style",i,a),title:O("title",{title:c,titleAttributes:d},a)}},pe=Yt,ne=[],Ge=!!(typeof window<"u"&&window.document&&window.document.createElement),be=class{constructor(t,s){$(this,"instances",[]);$(this,"canUseDOM",Ge);$(this,"context");$(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ne:this.instances,add:t=>{(this.canUseDOM?ne:this.instances).push(t)},remove:t=>{const s=(this.canUseDOM?ne:this.instances).indexOf(t);(this.canUseDOM?ne:this.instances).splice(s,1)}}});this.context=t,this.canUseDOM=s||!1,s||(t.helmet=pe({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Jt={},Be=H.createContext(Jt),G,Ke=(G=class extends o.Component{constructor(r){super(r);$(this,"helmetData");this.helmetData=new be(this.props.context||{},G.canUseDOM)}render(){return H.createElement(Be.Provider,{value:this.helmetData.value},this.props.children)}},$(G,"canUseDOM",Ge),G),K=(t,s)=>{const r=document.head||document.querySelector("head"),a=r.querySelectorAll(`${t}[${z}]`),n=[].slice.call(a),l=[];let i;return s&&s.length&&s.forEach(c=>{const d=document.createElement(t);for(const x in c)if(Object.prototype.hasOwnProperty.call(c,x))if(x==="innerHTML")d.innerHTML=c.innerHTML;else if(x==="cssText")d.styleSheet?d.styleSheet.cssText=c.cssText:d.appendChild(document.createTextNode(c.cssText));else{const u=x,p=typeof c[u]>"u"?"":c[u];d.setAttribute(x,p)}d.setAttribute(z,"true"),n.some((x,u)=>(i=u,d.isEqualNode(x)))?n.splice(i,1):l.push(d)}),n.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)}),l.forEach(c=>r.appendChild(c)),{oldTags:n,newTags:l}},je=(t,s)=>{const r=document.getElementsByTagName(t)[0];if(!r)return;const a=r.getAttribute(z),n=a?a.split(","):[],l=[...n],i=Object.keys(s);for(const c of i){const d=s[c]||"";r.getAttribute(c)!==d&&r.setAttribute(c,d),n.indexOf(c)===-1&&n.push(c);const x=l.indexOf(c);x!==-1&&l.splice(x,1)}for(let c=l.length-1;c>=0;c-=1)r.removeAttribute(l[c]);n.length===l.length?r.removeAttribute(z):r.getAttribute(z)!==i.join(",")&&r.setAttribute(z,i.join(","))},Zt=(t,s)=>{typeof t<"u"&&document.title!==t&&(document.title=He(t)),je("title",s)},Me=(t,s)=>{const{baseTag:r,bodyAttributes:a,htmlAttributes:n,linkTags:l,metaTags:i,noscriptTags:c,onChangeClientState:d,scriptTags:x,styleTags:u,title:p,titleAttributes:b}=t;je("body",a),je("html",n),Zt(p,b);const f={baseTag:K("base",r),linkTags:K("link",l),metaTags:K("meta",i),noscriptTags:K("noscript",c),scriptTags:K("script",x),styleTags:K("style",u)},m={},h={};Object.keys(f).forEach(N=>{const{newTags:_,oldTags:S}=f[N];_.length&&(m[N]=_),S.length&&(h[N]=f[N].oldTags)}),s&&s(),d(t,m,h)},te=null,Xt=t=>{te&&cancelAnimationFrame(te),t.defer?te=requestAnimationFrame(()=>{Me(t,()=>{te=null})}):(Me(t),te=null)},Qt=Xt,Re=class extends o.Component{constructor(){super(...arguments);$(this,"rendered",!1)}shouldComponentUpdate(s){return!zt(s,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:s}=this.props.context;s.remove(this),this.emitChange()}emitChange(){const{helmetInstances:s,setHelmet:r}=this.props.context;let a=null;const n=Ht(s.get().map(l=>{const i={...l.props};return delete i.context,i}));Ke.canUseDOM?Qt(n):pe&&(a=pe(n)),r(a)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:s}=this.props.context;s.add(this),this.emitChange()}render(){return this.init(),null}},fe,sr=(fe=class extends o.Component{shouldComponentUpdate(t){return!Et(Ee(this.props,"helmetData"),Ee(t,"helmetData"))}mapNestedChildrenToProps(t,s){if(!s)return null;switch(t.type){case"script":case"noscript":return{innerHTML:s};case"style":return{cssText:s};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,s,r,a){return{...s,[t.type]:[...s[t.type]||[],{...r,...this.mapNestedChildrenToProps(t,a)}]}}mapObjectTypeChildren(t,s,r,a){switch(t.type){case"title":return{...s,[t.type]:a,titleAttributes:{...r}};case"body":return{...s,bodyAttributes:{...r}};case"html":return{...s,htmlAttributes:{...r}};default:return{...s,[t.type]:{...r}}}}mapArrayTypeChildrenToProps(t,s){let r={...s};return Object.keys(t).forEach(a=>{r={...r,[a]:t[a]}}),r}warnOnInvalidChildren(t,s){return Te(Ie.some(r=>t.type===r),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Ie.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Te(!s||typeof s=="string"||Array.isArray(s)&&!s.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,s){let r={};return H.Children.forEach(t,a=>{if(!a||!a.props)return;const{children:n,...l}=a.props,i=Object.keys(l).reduce((d,x)=>(d[Dt[x]||x]=l[x],d),{});let{type:c}=a;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(a,n),c){case"Symbol(react.fragment)":s=this.mapChildrenToProps(n,s);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(a,r,i,n);break;default:s=this.mapObjectTypeChildren(a,s,i,n);break}}),this.mapArrayTypeChildrenToProps(r,s)}render(){const{children:t,...s}=this.props;let r={...s},{helmetData:a}=s;if(t&&(r=this.mapChildrenToProps(t,r)),a&&!(a instanceof be)){const n=a;a=new be(n.context,!0),delete r.helmetData}return a?H.createElement(Re,{...r,context:a.value}):H.createElement(Be.Consumer,null,n=>H.createElement(Re,{...r,context:n}))}},$(fe,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),fe);const es="https://lnimxmbghbdadbotjyan.supabase.co",ts="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaW14bWJnaGJkYWRib3RqeWFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjMzMzgsImV4cCI6MjA4MDY5OTMzOH0.4jrkeiOdsY__oJ5FNFVYmcju2uklb5jXYYiUVt3F_Aw",j=ve(es,ts);async function ss(t){const{data:s,error:r}=await j.from("user_profiles").select("role").eq("id",t).maybeSingle();return r||!s?null:s.role}const qe=o.createContext(void 0);function rs({children:t}){const[s,r]=o.useState(null),[a,n]=o.useState(null),[l,i]=o.useState(null),[c,d]=o.useState(!0);o.useEffect(()=>{j.auth.getSession().then(({data:{session:m}})=>{r((m==null?void 0:m.user)??null),m!=null&&m.user?x(m.user.id):d(!1)});const{data:{subscription:f}}=j.auth.onAuthStateChange((m,h)=>{(async()=>(r((h==null?void 0:h.user)??null),h!=null&&h.user?await x(h.user.id):(n(null),d(!1))))()});return()=>f.unsubscribe()},[]);const x=async f=>{const m=await ss(f);n(m);const{data:h}=await j.from("user_profiles").select("id, vorname, nachname").eq("id",f).maybeSingle();i(h),d(!1)},b={user:s,userRole:a,userProfile:l,isAdmin:a==="admin",loading:c,signIn:async(f,m)=>{const{data:h,error:N}=await j.rpc("get_email_by_username",{p_username:f});if(N||!h)return{error:new Error("Benutzer nicht gefunden")};const{error:_}=await j.auth.signInWithPassword({email:h,password:m});return{error:_}},signOut:async()=>{await j.auth.signOut(),n(null),i(null)}};return e.jsx(qe.Provider,{value:b,children:t})}function Ye(){const t=o.useContext(qe);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function as(){const[t,s]=o.useState([]),[r,a]=o.useState({auto_play:!0,transition_duration:20}),[n,l]=o.useState({title_text:"Handy Reparatur Ottobrunn",subtitle_text:"iPhone, Samsung & weitere Marken – schnell, fachgerecht und zu fairen Preisen",title_font_size:"text-4xl sm:text-5xl md:text-7xl",subtitle_font_size:"text-xl sm:text-2xl md:text-3xl",title_color:"#ffffff",subtitle_color:"#ffffff",title_font_weight:"font-bold",subtitle_font_weight:"font-light",text_shadow:"drop-shadow-2xl",overlay_opacity:40}),[i,c]=o.useState(0);o.useEffect(()=>{d(),x(),u()},[]),o.useEffect(()=>{if(!r.auto_play||t.length===0)return;const m=t[i],h=(m==null?void 0:m.duration_seconds)||r.transition_duration,N=setInterval(()=>{c(_=>(_+1)%t.length)},h*1e3);return()=>clearInterval(N)},[i,r,t]);const d=async()=>{const{data:m,error:h}=await j.from("hero_slides").select("*").eq("is_active",!0).order("display_order",{ascending:!0});!h&&m&&m.length>0&&s(m)},x=async()=>{const{data:m,error:h}=await j.from("hero_slideshow_settings").select("*").maybeSingle();!h&&m&&a({auto_play:m.auto_play,transition_duration:m.transition_duration})},u=async()=>{const{data:m,error:h}=await j.from("hero_text_settings").select("*").maybeSingle();!h&&m&&l({title_text:m.title_text,subtitle_text:m.subtitle_text,title_font_size:m.title_font_size,subtitle_font_size:m.subtitle_font_size,title_color:m.title_color,subtitle_color:m.subtitle_color,title_font_weight:m.title_font_weight,subtitle_font_weight:m.subtitle_font_weight,text_shadow:m.text_shadow,overlay_opacity:m.overlay_opacity})},p=m=>{c(m)},b=()=>{c(m=>m===0?t.length-1:m-1)},f=()=>{c(m=>(m+1)%t.length)};return t.length===0?null:e.jsxs("section",{className:"relative h-[500px] sm:h-[600px] md:h-[650px] flex items-center justify-center overflow-hidden group",children:[e.jsxs("div",{className:"absolute inset-0",children:[t.map((m,h)=>e.jsx("img",{src:m.image_url,alt:m.alt_text,className:`absolute w-full h-full object-cover object-center transition-opacity duration-[2000ms] ease-in-out ${h===i?"opacity-100":"opacity-0"}`,style:{minHeight:"100%",minWidth:"100%",display:"block"},fetchPriority:h===0?"high":"low"},m.id)),e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:`rgba(0, 0, 0, ${n.overlay_opacity/100})`}})]}),t.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:b,className:"absolute left-4 z-20 p-2 rounded-full bg-white/80 hover:bg-white transition-all opacity-0 group-hover:opacity-100 shadow-lg","aria-label":"Vorheriges Bild",children:e.jsx(De,{className:"w-6 h-6 text-gray-800"})}),e.jsx("button",{onClick:f,className:"absolute right-4 z-20 p-2 rounded-full bg-white/80 hover:bg-white transition-all opacity-0 group-hover:opacity-100 shadow-lg","aria-label":"Nächstes Bild",children:e.jsx(re,{className:"w-6 h-6 text-gray-800"})}),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 flex gap-2",children:t.map((m,h)=>e.jsx("button",{onClick:()=>p(h),className:`w-3 h-3 rounded-full transition-all duration-300 ${h===i?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Gehe zu Bild ${h+1}`},h))})]}),e.jsxs("div",{className:"relative z-10 text-center px-4 max-w-5xl mx-auto",children:[e.jsx("h1",{className:`${n.title_font_size} ${n.title_font_weight} mb-4 sm:mb-6 ${n.text_shadow} tracking-tight`,style:{color:n.title_color},children:n.title_text}),e.jsx("p",{className:`${n.subtitle_font_size} ${n.subtitle_font_weight} mb-6 sm:mb-8 ${n.text_shadow}`,style:{color:n.subtitle_color},children:n.subtitle_text})]})]})}function ns(){const[t,s]=o.useState([]),[r,a]=o.useState("Unsere Reparatur-Services");o.useEffect(()=>{l(),n()},[]);const n=async()=>{const{data:i}=await j.from("page_texts").select("value").eq("section","services").eq("key","main_title").maybeSingle();i&&a(i.value)},l=async()=>{const{data:i}=await j.from("service_items").select("*").eq("is_active",!0).order("order_index");i&&i.length>0?s(i):s([{id:"1",title:"Display-Reparatur",description:"Risse, schwarze Flecken oder defekter Touchscreen? Wir ersetzen das komplette Display-Modul professionell.",icon_name:"Smartphone"},{id:"2",title:"Akku-Wechsel",description:"Nachlassende Laufzeit oder plötzliche Neustarts? Wir tauschen Ihren Akku gegen einen hochwertigen Ersatzakku.",icon_name:"Battery"},{id:"3",title:"Weitere Reparaturen",description:"Kamera, Ladebuchse, Lautsprecher und mehr – wir reparieren nahezu alle Schäden.",icon_name:"Wrench"}])};return e.jsx("section",{id:"services",className:"py-16 bg-gradient-to-b from-blue-50/30 to-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:r})}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:t.map((i,c)=>{const d=lt[i.icon_name]||it,x=["bg-blue-100 text-blue-600","bg-green-100 text-green-600","bg-gray-100 text-gray-600"],u=x[c%x.length];return e.jsxs("div",{className:"bg-white rounded-2xl p-8 hover:shadow-xl transition-shadow duration-300 border border-gray-100",children:[e.jsx("div",{className:`w-16 h-16 ${u} rounded-2xl flex items-center justify-center mb-6 mx-auto`,children:e.jsx(d,{className:"w-8 h-8",strokeWidth:2.5})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:i.title}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed text-center",children:i.description})]},i.id)})})]})})}const Oe=ve("https://lnimxmbghbdadbotjyan.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaW14bWJnaGJkYWRib3RqeWFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjMzMzgsImV4cCI6MjA4MDY5OTMzOH0.4jrkeiOdsY__oJ5FNFVYmcju2uklb5jXYYiUVt3F_Aw");function ls({onSelect:t}){const[s,r]=o.useState(""),[a,n]=o.useState([]),[l,i]=o.useState(!1),[c,d]=o.useState(!1),x=o.useRef(null),u=o.useRef();o.useEffect(()=>{function m(h){x.current&&!x.current.contains(h.target)&&i(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]),o.useEffect(()=>{if(u.current&&clearTimeout(u.current),s.trim().length<2){n([]),i(!1);return}return d(!0),u.current=setTimeout(()=>{p(s)},300),()=>{u.current&&clearTimeout(u.current)}},[s]);async function p(m){try{const{data:h,error:N}=await Oe.rpc("search_repairs_fuzzy",{search_query:m,match_limit:10});if(N){console.error("Search error:",N);const{data:_}=await Oe.from("repair_prices").select("id, hersteller, modell, reparatur, preis").or(`hersteller.ilike.%${m}%,modell.ilike.%${m}%,reparatur.ilike.%${m}%`).limit(10);n(_||[])}else n(h||[]);i(!0)}catch(h){console.error("Search error:",h)}finally{d(!1)}}function b(m){t(m),r(""),n([]),i(!1)}function f(){r(""),n([]),i(!1)}return e.jsxs("div",{ref:x,className:"relative max-w-3xl mx-auto mb-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ot,{className:"absolute left-4 sm:left-5 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5 sm:w-6 sm:h-6"}),e.jsx("input",{type:"text",placeholder:"Suche Handy oder Reparatur...",value:s,onChange:m=>r(m.target.value),onFocus:()=>s.trim().length>=2&&i(!0),className:"w-full pl-12 sm:pl-14 pr-12 sm:pr-14 py-4 sm:py-5 bg-white border-2 border-gray-300 rounded-2xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none text-base sm:text-lg shadow-lg transition-all"}),s&&e.jsx("button",{onClick:f,className:"absolute right-4 sm:right-5 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(F,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l&&s.trim().length>=2&&e.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:c?e.jsxs("div",{className:"px-6 py-8 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-3 text-gray-600",children:"Suche läuft..."})]}):a.length>0?e.jsx("div",{className:"py-2",children:a.map((m,h)=>e.jsx("button",{onClick:()=>b(m),className:"w-full px-6 py-4 hover:bg-blue-50 transition-colors text-left border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:m.modell}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-medium",children:m.hersteller}),e.jsx("span",{children:"•"}),e.jsx("span",{children:m.reparatur})]})]}),e.jsxs("div",{className:"ml-4 text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-blue-600",children:[m.preis.toFixed(2).replace(".",",")," €"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"inkl. MwSt."})]})]})},m.id))}):e.jsxs("div",{className:"px-6 py-8 text-center text-gray-600",children:[e.jsx("p",{className:"text-lg font-medium mb-2",children:"Keine Ergebnisse gefunden"}),e.jsx("p",{className:"text-sm",children:"Versuchen Sie eine andere Schreibweise oder nutzen Sie den Konfigurator unten"})]})})]})}function is({onVerify:t,onError:s,onExpire:r}){const a=o.useRef(null),n=o.useRef(null),[l,i]=o.useState(!1),c=o.useRef({onVerify:t,onError:s,onExpire:r});return o.useEffect(()=>{c.current={onVerify:t,onError:s,onExpire:r}},[t,s,r]),o.useEffect(()=>{const d=document.createElement("script");return d.src="https://challenges.cloudflare.com/turnstile/v0/api.js",d.async=!0,d.defer=!0,d.onload=()=>i(!0),document.head.appendChild(d),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[]),o.useEffect(()=>{if(!l||!a.current||!window.turnstile)return;const d="1x00000000000000000000AA";return n.current&&window.turnstile.remove(n.current),n.current=window.turnstile.render(a.current,{sitekey:d,callback:x=>{c.current.onVerify(x)},"error-callback":()=>{var x,u;(u=(x=c.current).onError)==null||u.call(x)},"expired-callback":()=>{var x,u;(u=(x=c.current).onExpire)==null||u.call(x)},theme:"light",size:"normal"}),()=>{n.current&&window.turnstile&&(window.turnstile.remove(n.current),n.current=null)}},[l]),e.jsx("div",{className:"flex justify-center my-4",children:e.jsx("div",{ref:a})})}function os({isOpen:t,onClose:s,manufacturer:r,model:a,repair:n,price:l}){const[i,c]=o.useState({salutation:"",vorname:"",nachname:"",phone:"",email:"",street:"",postalCode:"",city:"",preferredDate:"",message:""}),[d,x]=o.useState(!1),[u,p]=o.useState(!1),[b,f]=o.useState(!1),[m,h]=o.useState(null),[N,_]=o.useState(null);o.useEffect(()=>(t?(S(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const S=async()=>{try{const{data:C}=await j.from("vacation_mode").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();_(C)}catch(C){console.error("Error loading vacation mode:",C)}};if(!t)return null;const y=n.toLowerCase().includes("backcover")?`ab ${l.toFixed(2).replace(".",",")} €`:`${l.toFixed(2).replace(".",",")} €`,R=async C=>{C.preventDefault(),x(!0);const T=`
Neue Handy Reparatur Anfrage

Gerät: ${r} ${a}
Reparatur: ${n}
Preis: ${y}

Kundendaten:
${i.salutation?`Anrede: ${i.salutation}`:""}
Vorname: ${i.vorname}
Nachname: ${i.nachname}
Telefon: ${i.phone}
E-Mail: ${i.email}

Rechnungsadresse:
${i.street}
${i.postalCode} ${i.city}

${i.preferredDate?`Gewünschter Termin: ${i.preferredDate}`:""}

${i.message?`Nachricht:
${i.message}`:""}
    `.trim(),V=`mailto:info@mnw-mobilfunk.de?subject=${encodeURIComponent(`Handy Reparatur Anfrage - ${r} ${a} - ${n}`)}&body=${encodeURIComponent(T)}`;window.location.href=V,p(!0),setTimeout(()=>{x(!1),p(!1),f(!1),h(null),s(),c({salutation:"",vorname:"",nachname:"",phone:"",email:"",street:"",postalCode:"",city:"",preferredDate:"",message:""})},2e3)},I=C=>{c({...i,[C.target.name]:C.target.value})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto my-8",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"w-6 h-6 text-blue-600"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Email-Anfrage"})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx(F,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Ihre Auswahl:"}),e.jsxs("p",{className:"text-gray-700",children:[e.jsxs("span",{className:"font-medium",children:[r," ",a]})," - ",n]}),e.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:y}),e.jsx("p",{className:"text-sm text-gray-500",children:"inkl. 19% MwSt."})]}),N&&e.jsx("div",{className:"mb-6 bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(we,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-orange-900 mb-1",children:"Urlaubshinweis"}),e.jsx("p",{className:"text-sm text-orange-800",children:N.message}),e.jsx("p",{className:"text-xs text-orange-700 mt-2",children:"Sie können Ihre Anfrage trotzdem senden. Wir bearbeiten sie nach unserem Urlaub!"})]})]})}),u?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"text-green-600 text-lg font-semibold mb-2",children:"Email-Client wird geöffnet..."}),e.jsx("p",{className:"text-gray-600",children:"Bitte senden Sie die vorausgefüllte Email ab."})]}):e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anrede"}),e.jsxs("select",{name:"salutation",value:i.salutation,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white",children:[e.jsx("option",{value:"",children:"Bitte wählen"}),e.jsx("option",{value:"Herr",children:"Herr"}),e.jsx("option",{value:"Frau",children:"Frau"}),e.jsx("option",{value:"Herr Dr.",children:"Herr Dr."}),e.jsx("option",{value:"Frau Dr.",children:"Frau Dr."}),e.jsx("option",{value:"Divers",children:"Divers"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vorname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"vorname",required:!0,value:i.vorname,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Max"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nachname ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"nachname",required:!0,value:i.nachname,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Mustermann"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Telefon ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",name:"phone",required:!0,value:i.phone,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"0123 456789"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["E-Mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",required:!0,value:i.email,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"max@beispiel.de"})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Rechnungsadresse"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Straße und Hausnummer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"street",required:!0,value:i.street,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Musterstraße 123"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["PLZ ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"postalCode",required:!0,value:i.postalCode,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"12345"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Stadt ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"city",required:!0,value:i.city,onChange:I,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Musterstadt"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gewünschter Termin"}),e.jsx("input",{type:"date",name:"preferredDate",value:i.preferredDate,onChange:I,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zusätzliche Nachricht"}),e.jsx("textarea",{name:"message",value:i.message,onChange:I,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none",placeholder:"Weitere Informationen oder Fragen..."})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:C=>f(C.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-700 leading-relaxed",children:["Ich stimme zu, dass meine Angaben zur Kontaktaufnahme und für Rückfragen gespeichert werden. Ich kann diese Einwilligung jederzeit per E-Mail widerrufen. Meine Daten werden nicht an Dritte weitergegeben. Weitere Infos in der ",e.jsx("a",{href:"/datenschutz",target:"_blank",className:"text-blue-600 hover:underline",children:"Datenschutzerklärung"}),"."]})]})}),e.jsx(is,{onVerify:C=>h(C),onExpire:()=>h(null),onError:()=>h(null)}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Abbrechen"}),e.jsx("button",{type:"submit",disabled:d||!b||!m,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Wird geöffnet...":"Email senden"})]})]})]})]})})}const le=ve("https://lnimxmbghbdadbotjyan.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxuaW14bWJnaGJkYWRib3RqeWFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxMjMzMzgsImV4cCI6MjA4MDY5OTMzOH0.4jrkeiOdsY__oJ5FNFVYmcju2uklb5jXYYiUVt3F_Aw");function cs({name:t,count:s,onClick:r}){return e.jsx("button",{onClick:r,className:"group relative bg-white border-2 border-gray-200 rounded-xl p-6 hover:border-blue-500 hover:shadow-lg transition-all duration-300 text-left",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s," Modelle verfügbar"]})]}),e.jsx(re,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]})})}function ds({repair:t,onWhatsAppClick:s,onEmailClick:r,onInfoClick:a}){const n=t.reparatur.toLowerCase().includes("backcover")||t.reparatur.toLowerCase().includes("wasserschaden");return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 sm:p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:t.reparatur}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-blue-600 flex items-center gap-1",children:[n&&e.jsx("span",{className:"text-lg sm:text-xl mr-1",children:"ab"}),t.preis.toFixed(2).replace(".",",")," ",e.jsx(Pe,{className:"w-5 h-5 sm:w-6 sm:h-6"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"inkl. 19% MwSt."})]}),e.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors flex-shrink-0",title:"Mehr Informationen",children:e.jsx(ct,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:s,className:"flex-1 bg-white hover:bg-green-50 text-green-600 border-2 border-green-600 py-2 sm:py-3 px-2 sm:px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-base",children:[e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden xs:inline",children:"WhatsApp"})]}),e.jsxs("button",{onClick:r,className:"flex-1 bg-white hover:bg-blue-50 text-blue-600 border-2 border-blue-600 py-2 sm:py-3 px-2 sm:px-4 rounded-lg font-semibold transition-colors flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-base",children:[e.jsx(Ne,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden xs:inline",children:"Email"})]})]})]})}function ms({repair:t,onClose:s}){if(!t)return null;const r=t.reparatur.toLowerCase().includes("backcover")||t.reparatur.toLowerCase().includes("wasserschaden");return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:t.reparatur}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:"×"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Für ",t.modell]}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600 flex items-center gap-1",children:[r&&e.jsx("span",{className:"text-xl mr-1",children:"ab"}),t.preis.toFixed(2).replace(".",",")," ",e.jsx(Pe,{className:"w-6 h-6"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"inkl. 19% MwSt."})]}),e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.beschreibung})}),e.jsx("button",{onClick:s,className:"mt-6 w-full bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition-colors",children:"Schließen"})]})})}function xs(){const[t,s]=o.useState(1),[r,a]=o.useState([]),[n,l]=o.useState([]),[i,c]=o.useState([]),[d,x]=o.useState(""),[u,p]=o.useState(""),[b,f]=o.useState(!1),[m,h]=o.useState(null),[N,_]=o.useState(!1),[S,D]=o.useState(null);o.useEffect(()=>{y()},[]);async function y(){f(!0);try{const{data:g,error:A}=await le.from("repair_prices").select("hersteller, modell");if(A)throw A;const E=new Map;g==null||g.forEach(v=>{var M;E.has(v.hersteller)||E.set(v.hersteller,new Set),(M=E.get(v.hersteller))==null||M.add(v.modell)});const P=Array.from(E.entries()).map(([v,M])=>({name:v,count:M.size})).sort((v,M)=>v.name.localeCompare(M.name));a(P)}catch(g){console.error("Error loading manufacturers:",g)}finally{f(!1)}}async function R(g){x(g),f(!0);try{const{data:A,error:E}=await le.from("repair_prices").select("modell").eq("hersteller",g);if(E)throw E;const P=Array.from(new Set((A==null?void 0:A.map(v=>v.modell))||[])).sort();l(P),s(2)}catch(A){console.error("Error loading models:",A)}finally{f(!1)}}async function I(g){p(g),f(!0);try{const{data:A,error:E}=await le.from("repair_prices").select("*").eq("hersteller",d).eq("modell",g);if(E)throw E;const P=(A||[]).sort((v,M)=>{const B=v.reparatur.toLowerCase().includes("display"),W=M.reparatur.toLowerCase().includes("display"),X=v.reparatur.toLowerCase().includes("akku"),Q=M.reparatur.toLowerCase().includes("akku");return B&&!W?-1:!B&&W?1:X&&!Q?-1:!X&&Q?1:v.reparatur.localeCompare(M.reparatur)});c(P),s(3)}catch(A){console.error("Error loading repairs:",A)}finally{f(!1)}}function C(){s(1),x(""),p(""),c([])}function T(){t===2?(s(1),x(""),l([])):t===3&&(s(2),p(""),c([]))}function V(g){const E=g.reparatur.toLowerCase().includes("backcover")||g.reparatur.toLowerCase().includes("wasserschaden")?`ab ${g.preis.toFixed(2).replace(".",",")} €`:`${g.preis.toFixed(2).replace(".",",")} €`,P=`Hallo, ich interessiere mich für folgende Reparatur:

Gerät: ${d} ${u}
Reparatur: ${g.reparatur}
Preis: ${E}

Bitte kontaktieren Sie mich für einen Termin.`,v=`https://wa.me/4915226878225?text=${encodeURIComponent(P)}`;window.open(v,"_blank")}function Z(g){D({manufacturer:d,model:u,repair:g.reparatur,price:g.preis}),_(!0)}async function Xe(g){x(g.hersteller),p(g.modell),f(!0);try{const{data:A,error:E}=await le.from("repair_prices").select("*").eq("hersteller",g.hersteller).eq("modell",g.modell);if(E)throw E;const P=(A||[]).sort((v,M)=>{const B=v.reparatur.toLowerCase().includes("display"),W=M.reparatur.toLowerCase().includes("display"),X=v.reparatur.toLowerCase().includes("akku"),Q=M.reparatur.toLowerCase().includes("akku");return B&&!W?-1:!B&&W?1:X&&!Q?-1:!X&&Q?1:v.reparatur.localeCompare(M.reparatur)});c(P),s(3),setTimeout(()=>{const v=document.getElementById("preisrechner");if(v){const W=v.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:W,behavior:"smooth"})}},100)}catch(A){console.error("Error loading repairs from search:",A)}finally{f(!1)}}const Qe=n;return e.jsxs("div",{id:"preisrechner",className:"bg-gradient-to-br from-blue-50 to-gray-50 py-16",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx(ls,{onSelect:Xe}),e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3 sm:mb-4 px-4",children:"Preis für Ihre Reparatur berechnen"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 px-4",children:"In nur 3 Schritten zum individuellen Angebot"})]}),e.jsx("div",{className:"flex items-center justify-center mb-8 sm:mb-12",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full font-bold text-base sm:text-lg ${t>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:"1"}),e.jsx("div",{className:`w-8 sm:w-16 h-1 ${t>=2?"bg-blue-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full font-bold text-base sm:text-lg ${t>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:"2"}),e.jsx("div",{className:`w-8 sm:w-16 h-1 ${t>=3?"bg-blue-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 rounded-full font-bold text-base sm:text-lg ${t>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:"3"})]})}),b?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Lädt..."})]}):e.jsxs(e.Fragment,{children:[t===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6 text-center px-4",children:"Wählen Sie Ihren Hersteller"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:r.map(g=>e.jsx(cs,{name:g.name,count:g.count,onClick:()=>R(g.name)},g.name))})]}),t===2&&e.jsxs("div",{children:[e.jsx("div",{className:"mb-6 px-4",children:e.jsx("button",{onClick:T,className:"text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2 text-sm sm:text-base",children:"← Zurück"})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 text-center px-4",children:"Wählen Sie Ihr Modell"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-8 text-center px-4",children:d}),e.jsx("div",{className:"max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 max-h-96 overflow-y-auto px-4",children:Qe.map(g=>e.jsx("button",{onClick:()=>I(g),className:"bg-white border-2 border-gray-200 rounded-lg p-3 sm:p-4 hover:border-blue-500 hover:shadow-md transition-all text-left font-semibold text-gray-900 text-sm sm:text-base",children:g},g))})]}),t===3&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between px-4",children:[e.jsx("button",{onClick:T,className:"text-blue-600 hover:text-blue-700 font-semibold flex items-center gap-2 text-sm sm:text-base",children:"← Zurück"}),e.jsx("button",{onClick:C,className:"text-gray-600 hover:text-gray-700 font-semibold text-sm sm:text-base",children:"Neu starten"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2 text-center px-4",children:"Verfügbare Reparaturen"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-8 text-center px-4",children:[d," - ",u]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-6xl mx-auto",children:i.map(g=>e.jsx(ds,{repair:g,onWhatsAppClick:()=>V(g),onEmailClick:()=>Z(g),onInfoClick:()=>h(g)},g.id))})]})]})]}),e.jsx(ms,{repair:m,onClose:()=>h(null)}),S&&e.jsx(os,{isOpen:N,onClose:()=>{_(!1),D(null)},manufacturer:S.manufacturer,model:S.model,repair:S.repair,price:S.price})]})}const us={blog:"Blog",news:"News",produkt:"Produkt",ratgeber:"Ratgeber",service:"Service"},ze={blog:"bg-blue-100 text-blue-800",news:"bg-green-100 text-green-800",produkt:"bg-orange-100 text-orange-800",ratgeber:"bg-gray-100 text-gray-800",service:"bg-teal-100 text-teal-800"};function hs(){const[t,s]=o.useState([]),[r,a]=o.useState(!0);o.useEffect(()=>{n()},[]);const n=async()=>{try{const{data:l,error:i}=await j.from("articles").select("id, title, slug, excerpt, image_url, category, price, published_at").eq("status","published").order("published_at",{ascending:!1}).limit(6);if(i)throw i;s(l||[])}catch(l){console.error("Fehler beim Laden der Artikel:",l)}finally{a(!1)}};return r?e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"text-center",children:"Lädt Artikel..."})})}):t.length===0?null:e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Aktuelles & Ratgeber"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Informationen, Tipps und Neuigkeiten rund um Handy-Reparaturen"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(l=>e.jsxs("article",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1 flex flex-col",children:[l.image_url&&e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:l.image_url,alt:l.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${ze[l.category]||ze.blog}`,children:us[l.category]||l.category})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("time",{dateTime:l.published_at,children:new Date(l.published_at).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),l.price&&l.price>0&&e.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[e.jsx(mt,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[l.price.toFixed(2)," €"]})]})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2",children:l.title}),l.excerpt&&e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 flex-1",children:l.excerpt}),e.jsxs("a",{href:`/artikel/${l.slug}`,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium group mt-auto",children:["Weiterlesen",e.jsx(xt,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},l.id))})]})})}function Je({isOpen:t,onClose:s,initialStep:r=1}){const[a,n]=o.useState(r),[l,i]=o.useState(""),[c,d]=o.useState(""),[x,u]=o.useState(!1),[p,b]=o.useState(""),f=o.useRef(null);o.useEffect(()=>(t?(document.body.style.overflow="hidden",n(r)):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t,r]);const m=()=>{const S="HK",D=new Date().getFullYear(),y=Math.random().toString(36).substring(2,8).toUpperCase();return`${S}-${D}-${y}`},h=async()=>{u(!0);const S=m(),D=new Date().toLocaleDateString("de-DE");try{const{data:y,error:R}=await j.from("vouchers").insert([{code:S,amount:10,status:"active",generated_at:new Date().toISOString()}]).select().maybeSingle();if(R)throw console.error("Supabase error:",R),R;if(!y)throw console.error("No data returned from insert"),new Error("Gutschein wurde erstellt, aber nicht zurückgegeben");d(y.id),i(S),b(D),n(4)}catch(y){console.error("Error creating voucher:",y);const R=y instanceof Error?y.message:"Unbekannter Fehler";alert(`Fehler beim Erstellen des Gutscheins: ${R}

Bitte versuchen Sie es erneut.`)}finally{u(!1)}},N=async()=>{var I,C;try{const{data:T}=await j.from("vouchers").select("print_count").eq("id",c).single(),V=((T==null?void 0:T.print_count)||0)+1;await j.from("vouchers").update({printed_at:new Date().toISOString(),print_count:V}).eq("id",c)}catch(T){console.error("Error tracking print:",T)}if(!f.current)return;const D=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Gutschein drucken</title>
          <style>
            @page {
              size: A4;
              margin: 1.5cm;
            }
            * {
              -webkit-print-color-adjust: exact !important;
              print-color-adjust: exact !important;
              color-adjust: exact !important;
            }
            body {
              margin: 0;
              padding: 0;
              background: white;
            }
            ${Array.from(document.styleSheets).map(T=>{try{return Array.from(T.cssRules).map(V=>V.cssText).join(`
`)}catch{const Z=T.ownerNode;return Z&&Z.href?`<link rel="stylesheet" href="${Z.href}">`:""}}).join(`
`)}
          </style>
        </head>
        <body>
          ${f.current.innerHTML}
        </body>
      </html>
    `,y=document.createElement("iframe");y.style.position="absolute",y.style.width="0",y.style.height="0",y.style.border="none",document.body.appendChild(y);const R=(I=y.contentWindow)==null?void 0:I.document;R&&(R.open(),R.write(D),R.close(),(C=y.contentWindow)==null||C.focus(),setTimeout(()=>{var T;(T=y.contentWindow)==null||T.print(),setTimeout(()=>{document.body.removeChild(y)},100)},250))},_=()=>{n(1),i(""),d(""),b(""),s()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 modal-backdrop",onClick:_,children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto relative modal-content",onClick:S=>S.stopPropagation(),children:[e.jsx("button",{onClick:_,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-50",children:e.jsx(F,{className:"w-6 h-6"})}),a===1&&e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-8 text-gray-900",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx(L,{className:"w-8 h-8 text-yellow-600"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Gutschein-Bedingungen"})]}),e.jsxs("ul",{className:"space-y-3 mb-8",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Mindestauftragswert: 90€"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Gültig: Mo-Fr 14-18 Uhr"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Nicht gegen Bargeld einlösbar"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Vor Bezahlung angeben"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Der Rechtsweg ist ausgeschlossen"})})]})]}),e.jsx("button",{onClick:()=>n(2),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-4 px-6 rounded-xl transition-colors",children:"Weiter"})]})}),a===2&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 mb-4",children:[e.jsx(L,{className:"w-8 h-8 text-yellow-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"10€ Reparatur-Gutschein"})]}),e.jsx("p",{className:"text-gray-600",children:"Sichere dir jetzt deinen 10€ Rabatt auf deine nächste Handy-Reparatur!"})]}),e.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start space-x-2 mb-4",children:[e.jsx(L,{className:"w-5 h-5 text-yellow-700 mt-1"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Gutschein-Details:"})]}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(me,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Wert:"})," 10€ Rabatt auf Ihre Reparatur"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(me,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Mindestauftragswert:"})," 90€"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(me,{className:"w-4 h-4 text-green-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Gültig:"})," Montag bis Freitag, 14:00-18:00 Uhr"]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 rounded-xl p-6 mb-8",children:[e.jsxs("div",{className:"flex items-start space-x-2 mb-4",children:[e.jsx(L,{className:"w-5 h-5 text-blue-700 mt-1"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Einlösebedingungen:"})]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Mindestauftragswert: 90€"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Gültig: Montag bis Freitag, 14:00-18:00 Uhr"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Nicht gegen Bargeld einlösbar"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Nur einmalig einlösbar"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Nicht mit anderen Aktionen kombinierbar"})})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsxs("span",{className:"text-red-600",children:[e.jsx("strong",{children:"Der Gutschein muss vor der Bezahlung angegeben werden."})," Eine nachträgliche Gutschrift ist nicht möglich."]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Der Rechtsweg ist ausgeschlossen"})})]})]})]}),e.jsxs("button",{onClick:()=>n(3),className:"w-full bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-4 px-6 rounded-xl transition-colors inline-flex items-center justify-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Gutschein jetzt generieren"})]}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Klicken Sie hier, um Ihren persönlichen Gutschein-Code zu erstellen"})]}),a===3&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Gutschein generieren"}),e.jsx("p",{className:"text-gray-600",children:"Erstellen Sie Ihren 10€ Reparatur-Gutschein mit einem Klick"})]}),e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-8",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Gutschein-Details:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Wert:"})," 10€ Rabatt auf Ihre Reparatur"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Mindestauftragswert:"})," 90€"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Gültig:"})," Mo-Fr 14:00-18:00 Uhr"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"mr-2",children:"•"}),e.jsx("span",{children:e.jsx("strong",{children:"Nicht gegen Bargeld einlösbar"})})]})]})]}),e.jsxs("button",{onClick:h,disabled:x,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-colors inline-flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:x?"Wird generiert...":"Gutschein jetzt generieren"})]})]}),a===4&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"no-print p-8",children:[e.jsxs("div",{ref:f,className:"voucher-content max-w-3xl mx-auto bg-white rounded-lg shadow-lg",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"MNW Mobilfunk"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Handy Reparatur Ottobrunn"})]}),e.jsx(L,{className:"w-12 h-12 text-blue-100"})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6 pb-6 border-b-2 border-gray-200",children:[e.jsx("div",{className:"text-6xl font-black text-blue-600 mb-2",children:"10€"}),e.jsx("div",{className:"text-xl font-bold text-gray-700",children:"REPARATUR-GUTSCHEIN"})]}),e.jsxs("div",{className:"bg-gray-900 text-white rounded-lg p-5 mb-6 text-center",children:[e.jsx("div",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Gutschein-Code"}),e.jsx("div",{className:"text-2xl font-mono font-bold tracking-widest",children:l}),e.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Ausgestellt am: ",p]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-xs font-bold text-blue-900 mb-2",children:"GÜLTIGKEIT"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("div",{className:"font-semibold",children:"Min. 90€"}),e.jsx("div",{className:"text-gray-700",children:"Mo-Fr, 14-18 Uhr"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("div",{className:"text-xs font-bold text-gray-900 mb-2",children:"HINWEISE"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("div",{className:"text-gray-700",children:"Einmalig einlösbar"}),e.jsx("div",{className:"text-gray-700",children:"Nicht kombinierbar"})]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm text-red-900 font-semibold",children:"⚠ Vor Bezahlung angeben! Nachträgliche Gutschrift nicht möglich."})}),e.jsxs("div",{className:"text-center pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"font-bold text-gray-900 mb-2",children:"MNW Mobilfunk"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("div",{children:"Unterhachinger Str. 28, 85521 Ottobrunn"}),e.jsx("div",{children:"Tel: 089 / 63 28 69 44"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-6 max-w-3xl mx-auto",children:[e.jsxs("button",{onClick:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors inline-flex items-center justify-center space-x-2",children:[e.jsx(ut,{className:"w-5 h-5"}),e.jsx("span",{children:"Gutschein drucken"})]}),e.jsx("button",{onClick:_,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors",children:"Schließen"})]})]})})]})}):null}function Ze({isOpen:t,onClose:s}){const[r,a]=o.useState(!1),[n,l]=o.useState(null);o.useEffect(()=>(t?(i(),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]);const i=async()=>{try{const{data:d}=await j.from("vacation_mode").select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();l(d)}catch(d){console.error("Error loading vacation mode:",d)}};if(!t)return null;const c=()=>{a(!1),s()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:c,children:e.jsxs("div",{className:"max-w-2xl w-full relative my-8",style:{perspective:"1000px"},onClick:d=>d.stopPropagation(),children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-50",children:e.jsx(F,{className:"w-6 h-6"})}),e.jsxs("div",{className:"relative w-full transition-all duration-700",style:{transformStyle:"preserve-3d",transform:r?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsx("div",{className:"bg-white rounded-2xl w-full max-h-[85vh] overflow-y-auto",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"w-8 h-8 text-red-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Kontakt"})]})}),n&&e.jsx("div",{className:"mb-6 bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(we,{className:"w-6 h-6 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-orange-900 mb-1",children:"Urlaubshinweis"}),e.jsx("p",{className:"text-sm text-orange-800",children:n.message}),e.jsx("p",{className:"text-xs text-orange-700 mt-2",children:"Sie können uns trotzdem gerne kontaktieren. Wir melden uns nach dem Urlaub zurück!"})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 text-center border-2 border-blue-200",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(q,{className:"w-10 h-10 text-white"})}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"Telefon"}),e.jsx("a",{href:"tel:08963286944",className:"text-4xl font-bold text-blue-600 hover:text-blue-700 transition-colors mb-8 block",children:"089 / 63 28 69 44"}),e.jsx("div",{className:"border-t border-blue-200 my-8"}),e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(Se,{className:"w-6 h-6 text-blue-600 mr-2"}),e.jsx("div",{className:"text-lg font-semibold text-gray-700",children:"Adresse"})]}),e.jsxs("div",{className:"text-gray-800 font-medium text-lg",children:[e.jsx("p",{children:"Unterhachinger Str. 28"}),e.jsx("p",{className:"mb-3",children:"85521 Ottobrunn"}),e.jsx("p",{className:"text-blue-600 text-base",children:"(Im IsarCenter)"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"Schnellkontakt"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("a",{href:"tel:08963286944",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Anrufen"})]}),e.jsxs("a",{href:"https://wa.me/4908963286944?text=Hallo,%20ich%20interessiere%20mich%20f%C3%BCr%20eine%20Reparatur.%20K%C3%B6nnen%20Sie%20mir%20weiterhelfen?",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"WhatsApp"})]})]})]}),e.jsx("button",{onClick:()=>a(!0),className:"w-full mt-6 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-xl transition-colors",children:"Öffnungszeiten anzeigen"})]})}),e.jsx("div",{className:"bg-white rounded-2xl w-full absolute top-0 left-0 max-h-[85vh] overflow-y-auto",style:{backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"w-8 h-8 text-red-600"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Kontakt"})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-white border-2 border-blue-500",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(ke,{className:"w-8 h-8"}),e.jsx("h3",{className:"text-2xl font-bold",children:"Öffnungszeiten"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-100 text-sm mb-2 font-medium",children:"Abgabe & Abholung"}),e.jsx("div",{className:"text-2xl font-bold",children:"Mo-Fr: 9:00 - 19:00 Uhr"})]}),e.jsx("div",{className:"border-t border-blue-400 my-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-100 text-sm mb-2 font-medium",children:"Reparaturzeit"}),e.jsx("div",{className:"text-2xl font-bold",children:"Mo-Fr: 14:00 - 18:00 Uhr"})]}),e.jsx("div",{className:"border-t border-blue-400 my-4"}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(Se,{className:"w-5 h-5 mr-2 mt-1 flex-shrink-0"}),e.jsx("div",{children:e.jsx("div",{className:"font-semibold",children:"Unterhachinger Str. 28, 85521 Ottobrunn"})})]})]})]}),e.jsxs("div",{className:"flex space-x-4 mt-8",children:[e.jsx("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-xl transition-colors",children:"Zurück"}),e.jsx("button",{onClick:c,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-xl transition-colors",children:"Schließen"})]})]})})]})]})})}function fs({isOpen:t,onClose:s}){return o.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:s,children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full relative shadow-2xl max-h-[90vh] overflow-y-auto my-8",onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:e.jsx(F,{className:"w-6 h-6"})}),e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("img",{src:"/wertgarantie_logo_1.jpg",alt:"WERTGARANTIE Logo",className:"w-full max-w-xl mx-auto mb-6 rounded-lg",loading:"lazy"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Ihr WERTGARANTIE Service:"}),e.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-blue-600",children:"Kein Stress, keine Vorkasse!"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 sm:p-8 border-2 border-blue-200 mb-6",children:[e.jsx("p",{className:"text-gray-800 text-base sm:text-lg leading-relaxed mb-6",children:"Als offizieller WERTGARANTIE Partner übernehmen wir für Sie die komplette Abwicklung Ihres Schadens. Sie erhalten Ihr repariertes Gerät schnell zurück und wir erledigen den gesamten Papierkram."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(U,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg mb-1",children:"Volle Abwicklung:"}),e.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:"Wir kümmern uns um die gesamte Kommunikation und den Schriftverkehr."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(U,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg mb-1",children:"Keine Vorkasse:"}),e.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:"Wir rechnen die Kosten direkt mit der WERTGARANTIE ab."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(U,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg mb-1",children:"Ihr Vorteil:"}),e.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:"Stressfrei und unkompliziert zur Reparatur!"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"https://www.wertgarantie.de",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-colors text-center text-lg",children:"WERTGARANTIE"}),e.jsx("button",{onClick:s,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-xl transition-colors",children:"Schließen"})]})]})]})}):null}function gs(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState({phone:"089 / 63 28 69 44",street:"Unterhachinger Str. 28",postal_code:"85521",city:"Ottobrunn"}),[d,x]=o.useState(""),[u,p]=o.useState(!0);o.useEffect(()=>{b(),f()},[]);const b=async()=>{const{data:m}=await j.from("company_info").select("phone, street, postal_code, city").maybeSingle();m&&c(m)},f=async()=>{try{p(!0);const{data:m,error:h}=await j.from("google_settings").select("api_key, place_id").maybeSingle();if(console.log("Maps Data von DB:",m),console.log("Maps Error von DB:",h),h){console.error("Fehler beim Laden der Google Settings:",h),p(!1);return}if(!m){console.warn("Keine Google Settings in der Datenbank gefunden"),p(!1);return}if(!m.api_key||!m.place_id){console.warn("API Key oder Place ID fehlt:",{hasApiKey:!!m.api_key,hasPlaceId:!!m.place_id,apiKey:m.api_key?`${m.api_key.substring(0,10)}...`:"undefined",placeId:m.place_id||"undefined"}),p(!1);return}const N=`https://www.google.com/maps/embed/v1/place?key=${m.api_key}&q=place_id:${m.place_id}`;console.log("Google Maps URL generiert:",N),x(N),p(!1)}catch(m){console.error("Unerwarteter Fehler beim Laden der Map-Settings:",m),p(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("button",{onClick:()=>s(!0),className:"w-full bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-2xl p-8 mb-12 shadow-md hover:shadow-xl transition-all duration-300 border-2 border-yellow-200 hover:border-yellow-300 group",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(L,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Exklusiver Reparatur-Gutschein"}),e.jsxs("p",{className:"text-gray-600 text-base",children:["Sichere dir jetzt deinen ",e.jsx("span",{className:"font-bold text-yellow-600",children:"10€ Gutschein"})," auf deine nächste Reparatur!"]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-500 text-white px-8 py-4 rounded-xl group-hover:from-yellow-500 group-hover:to-yellow-600 transition-all",children:[e.jsx("div",{className:"text-4xl font-black mb-1",children:"10€"}),e.jsx("div",{className:"text-sm font-semibold",children:"Jetzt einlösen →"})]})})]})}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Unser Partner"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Vertrauen durch Zertifizierung"})]}),e.jsx("button",{onClick:()=>l(!0),className:"w-full bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 shadow-md hover:shadow-xl transition-all duration-300 border-2 border-blue-200 hover:border-blue-300 group",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",children:e.jsx(ce,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"WERTGARANTIE"}),e.jsx("p",{className:"text-gray-600 text-base",children:"Zertifizierter Reparaturpartner für Versicherungsschäden"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("img",{src:"/wertgarantie_logo_1.jpg",alt:"WERTGARANTIE Logo",className:"h-16 w-auto object-contain"}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white px-6 py-3 rounded-xl group-hover:from-blue-600 group-hover:to-blue-700 transition-all",children:e.jsx("div",{className:"text-sm font-semibold",children:"Mehr erfahren →"})})]})]})})]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Kontakt & Informationen"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Wir sind für Sie da"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[e.jsx("button",{onClick:()=>a(!0),className:"group bg-white rounded-xl p-6 shadow-md hover:shadow-xl transition-all duration-300 border border-gray-100 hover:border-blue-300 hover:-translate-y-1",children:e.jsxs("div",{className:"flex flex-col items-center text-center h-full",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center mb-4 group-hover:bg-blue-600 transition-colors",children:e.jsx(q,{className:"w-7 h-7 text-blue-600 group-hover:text-white transition-colors"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Telefon"}),e.jsx("a",{href:`tel:${i.phone.replace(/\s/g,"")}`,className:"text-xl font-bold text-blue-600 hover:text-blue-700 mb-3",onClick:m=>m.stopPropagation(),children:i.phone}),e.jsxs("div",{className:"text-sm text-gray-500 mt-auto",children:[e.jsx("p",{className:"font-medium",children:i.street}),e.jsxs("p",{children:[i.postal_code," ",i.city]}),e.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"(Im IsarCenter)"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:e.jsxs("div",{className:"flex flex-col items-center text-center h-full",children:[e.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(ke,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Öffnungszeiten"}),e.jsxs("div",{className:"space-y-2 text-sm flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[e.jsx("span",{className:"text-gray-600",children:"Mo - Fr"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"09:00 - 19:00"})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[e.jsx("span",{className:"text-gray-600",children:"Samstag"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"09:00 - 19:00"})]}),e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[e.jsx("span",{className:"text-gray-600",children:"Sonntag"}),e.jsx("span",{className:"font-semibold text-red-600",children:"Geschlossen"})]})]})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsxs("div",{className:"relative h-80 md:h-auto",children:[d&&e.jsx("iframe",{width:"100%",height:"100%",style:{border:0,minHeight:"400px"},allowFullScreen:!0,referrerPolicy:"no-referrer-when-downgrade",src:d,title:"MNW Mobilfunk Standort in Ottobrunn",className:"absolute inset-0"}),!d&&!u&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Karte nicht verfügbar"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Google Maps Einstellungen fehlen in der Datenbank"})]})})]}),e.jsxs("div",{className:"p-8 flex flex-col justify-center bg-gradient-to-br from-gray-50 to-white",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Besuchen Sie uns"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Direkt im IsarCenter Ottobrunn"}),e.jsxs("div",{className:"space-y-2 text-gray-700",children:[e.jsx("p",{className:"font-medium",children:i.street}),e.jsxs("p",{className:"font-medium",children:[i.postal_code," ",i.city]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:`https://www.google.com/maps/dir//${encodeURIComponent(i.street+", "+i.postal_code+" "+i.city)}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors text-center",children:"Route planen"}),e.jsx("a",{href:`tel:${i.phone.replace(/\s/g,"")}`,className:"block w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors text-center",children:"Jetzt anrufen"})]})]})]})})]})}),e.jsx(fs,{isOpen:n,onClose:()=>l(!1)}),e.jsx(Ze,{isOpen:r,onClose:()=>a(!1)}),e.jsx(Je,{isOpen:t,onClose:()=>s(!1)})]})}const ps=[{icon:ke,titleKey:"express_title",descriptionKey:"express_description",color:"bg-blue-100 text-blue-600"},{icon:ce,titleKey:"warranty_title",descriptionKey:"warranty_description",color:"bg-green-100 text-green-600"},{icon:ht,titleKey:"data_title",descriptionKey:"data_description",color:"bg-purple-100 text-purple-600"},{icon:U,titleKey:"parts_title",descriptionKey:"parts_description",color:"bg-yellow-100 text-yellow-600"},{icon:ft,titleKey:"price_title",descriptionKey:"price_description",color:"bg-red-100 text-red-600"},{icon:gt,titleKey:"experience_title",descriptionKey:"experience_description",color:"bg-indigo-100 text-indigo-600"}];function bs(){const[t,s]=o.useState(!1),[r,a]=o.useState({});o.useEffect(()=>{n()},[]);const n=async()=>{const{data:i}=await j.from("page_texts").select("key, value").in("section",["why_us","why_us_features","why_us_card"]);if(i){const c={};i.forEach(d=>{c[d.key]=d.value}),a(c)}},l=(i,c="")=>r[i]||c;return e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 text-center mb-12",children:l("main_title","Warum Handyklinik Ottobrunn?")}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:ps.map((i,c)=>{const d=i.icon;return e.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:`w-14 h-14 ${i.color} rounded-full flex items-center justify-center mb-4`,children:e.jsx(d,{className:"w-7 h-7",strokeWidth:2.5})}),e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:l(i.titleKey,"")}),e.jsx("p",{className:"text-gray-600 text-sm",children:l(i.descriptionKey,"")})]},c)})}),e.jsx("div",{className:"perspective-1000 mt-8",children:e.jsxs("div",{onClick:()=>s(!t),className:"relative w-full cursor-pointer preserve-3d transition-all duration-700",style:{transformStyle:"preserve-3d",transform:t?"rotateY(180deg)":"rotateY(0deg)",minHeight:t?"600px":"120px"},children:[e.jsxs("div",{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 rounded-2xl p-8 border-2 border-blue-800 shadow-xl backface-hidden",style:{backfaceVisibility:"hidden"},children:[e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(ce,{className:"w-10 h-10 text-white"}),e.jsx("h3",{className:"text-2xl font-bold text-white",children:l("front_title","Mehr über uns - MNW Mobilfunk erfahren")}),e.jsx(re,{className:`w-6 h-6 text-white transition-transform ${t?"rotate-90":""}`})]}),e.jsx("p",{className:"text-blue-100 text-center mt-2",children:l("front_subtitle","Klicken Sie hier für Details")})]}),e.jsx("div",{className:"absolute top-0 left-0 w-full bg-gradient-to-br from-blue-50 to-white rounded-2xl p-8 border-2 border-blue-200 shadow-xl backface-hidden",style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:e.jsxs("div",{className:"max-h-[550px] overflow-y-auto pr-4",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(ce,{className:"w-8 h-8 text-blue-600 mr-3"}),l("back_title","Ihr Vorteil seit über 20 Jahren")]}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsx("p",{className:"leading-relaxed",children:l("back_intro","")}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 mr-2"}),l("section1_title","Unabhängige Beratung")]}),e.jsx("p",{className:"leading-relaxed",children:l("section1_text","")})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 mr-2"}),l("section2_title","Rundum‑Service für Ihr Smartphone")]}),e.jsx("p",{className:"leading-relaxed",children:l("section2_text","")})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 mr-2"}),l("section3_title","Komplettlösungen für Zuhause und das Büro")]}),e.jsx("p",{className:"leading-relaxed",children:l("section3_text","")})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-2 flex items-center",children:[e.jsx(U,{className:"w-5 h-5 text-green-600 mr-2"}),l("section4_title","Persönlicher Ansprechpartner im Isarcenter")]}),e.jsx("p",{className:"leading-relaxed",children:l("section4_text","")})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("p",{className:"text-center font-bold text-xl text-blue-600",children:l("footer_text","MNW Mobilfunk – Wir verbinden Ottobrunn.")})})]}),e.jsx("p",{className:"text-blue-600 text-center mt-6 text-sm font-medium",children:l("back_subtitle","Klicken Sie erneut, um zurückzukehren")})]})})]})})]})})}function js(){const[t,s]=o.useState([]),[r,a]=o.useState(null);o.useEffect(()=>{n()},[]);const n=async()=>{const{data:l}=await j.from("faq_items").select("*").eq("is_active",!0).order("order_index");l&&l.length>0&&s(l)};return e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Häufige Fragen & Antworten"})}),e.jsx("div",{className:"space-y-3",children:t.map((l,i)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("button",{onClick:()=>a(r===i?null:i),className:"w-full px-6 py-5 flex items-center justify-between text-left hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-semibold text-gray-900 pr-4",children:l.question}),e.jsx(pt,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform duration-200 ${r===i?"transform rotate-180":""}`})]}),e.jsxs("div",{className:`overflow-hidden transition-all duration-200 ${r===i?"max-h-[800px]":"max-h-0"}`,children:[e.jsx("div",{className:"px-6 pb-5 text-gray-600 leading-relaxed whitespace-pre-line",children:l.answer}),l.question.includes("Post")&&r===i&&e.jsx("div",{className:"px-6 pb-6 pt-2",children:e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(ae,{className:"w-6 h-6 text-green-600 mr-2"}),e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Jetzt Reparatur anfragen"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:"https://wa.me/4908963286944?text=Hallo%20Team,%0A%0Aich%20m%C3%B6chte%20mein%20Ger%C3%A4t%20per%20Post%20zur%20Reparatur%20einsenden.%0A%0AMein%20Ger%C3%A4t:%0A[z.B.%20iPhone%2014,%20Samsung%20Galaxy%20S23]%0A%0AProblem/Defekt:%0A[z.B.%20Display%20defekt,%20Akku%20tauschen]%0A%0AMeine%20Kontaktdaten:%0AName:%0ATelefon:%0AAdresse:%0A%0AVielen%20Dank!",target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"WhatsApp Anfrage"})]}),e.jsxs("a",{href:"mailto:info@mnw-mobilfunk.de?subject=Reparaturanfrage%20per%20Post&body=Hallo%20Team,%0A%0Aich%20m%C3%B6chte%20mein%20Ger%C3%A4t%20per%20Post%20zur%20Reparatur%20einsenden.%0A%0AMein%20Ger%C3%A4t:%0A[z.B.%20iPhone%2014,%20Samsung%20Galaxy%20S23]%0A%0AProblem/Defekt:%0A[z.B.%20Display%20defekt,%20Akku%20tauschen]%0A%0AMeine%20Kontaktdaten:%0AName:%0ATelefon:%0AAdresse:%0A%0AVielen%20Dank!",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-xl transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{children:"E-Mail Anfrage"})]})]})]})})]})]},i))})]})})}function ys(){const[t,s]=o.useState([]),[r,a]=o.useState(0);o.useEffect(()=>{n()},[]),o.useEffect(()=>{if(t.length===0)return;const c=setInterval(()=>{a(d=>(d+1)%t.length)},2e4);return()=>clearInterval(c)},[t.length]);const n=async()=>{const{data:c}=await j.from("google_reviews").select("*").eq("is_visible",!0).eq("is_featured",!0).order("rating",{ascending:!1}).order("time",{ascending:!1}).limit(5);if(c&&c.length>0){const d=c.map(x=>({id:x.id,customer_name:x.author_name,content:x.text||"",rating:x.rating}));s(d)}},l=()=>{a(c=>(c+1)%t.length)},i=()=>{a(c=>(c-1+t.length)%t.length)};return e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Ausgezeichneter Service in Ottobrunn"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Die Handyklinik ist ein Service von MNW Mobilfunk. Das sagen unsere Kunden über uns:"}),e.jsxs("a",{href:"https://share.google/hRQkXBeGAKvaCetUT",target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-10 h-10",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx("div",{children:e.jsx("div",{className:"text-4xl font-bold text-gray-900",children:"4.9"})}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(c=>e.jsx(Ce,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},c))})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"236 Bewertungen"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-100 p-6 sm:p-8 md:p-12 shadow-sm min-h-[280px] flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-center space-x-1 mb-6",children:[1,2,3,4,5].map(c=>e.jsx(Ce,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-yellow-400 text-yellow-400"},c))}),e.jsxs("p",{className:"text-base sm:text-lg text-gray-700 mb-8 text-center leading-relaxed",children:['"',t.length>0?t[r].content:"",'"']})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-900 text-center sm:text-left",children:t.length>0?t[r].customer_name:""})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Veröffentlicht auf"}),e.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})]})]})]}),e.jsx("button",{onClick:i,className:"hidden sm:flex absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 bg-white rounded-full shadow-lg items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(De,{className:"w-6 h-6 text-gray-600"})}),e.jsx("button",{onClick:l,className:"hidden sm:flex absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 bg-white rounded-full shadow-lg items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(re,{className:"w-6 h-6 text-gray-600"})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-8",children:t.map((c,d)=>e.jsx("button",{onClick:()=>a(d),className:`h-2 rounded-full transition-all ${d===r?"w-8 bg-blue-600":"w-2 bg-gray-300"}`},d))}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:"https://share.google/hRQkXBeGAKvaCetUT",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 font-medium inline-flex items-center space-x-1",children:[e.jsx("span",{children:"Alle 236 Bewertungen auf Google ansehen"}),e.jsx(re,{className:"w-4 h-4"})]})})]})})}function vs({isOpen:t,onClose:s}){const[r,a]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState(""),[d,x]=o.useState(!1),{signIn:u}=Ye();if(o.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const p=async b=>{b.preventDefault(),c(""),x(!0);const{error:f}=await u(r,n);f?(c("Ungültige Anmeldedaten"),x(!1)):(s(),window.location.href="/admin")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative",children:[e.jsx("button",{onClick:s,className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(F,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(bt,{className:"h-8 w-8 text-blue-600"})})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-900",children:"Admin Login"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Benutzername"}),e.jsx("input",{type:"text",id:"username",value:r,onChange:b=>a(b.target.value),placeholder:"Benutzername eingeben",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort"}),e.jsx("input",{type:"password",id:"password",value:n,onChange:b=>l(b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:i}),e.jsx("button",{type:"submit",disabled:d,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400",children:d?"Anmelden...":"Anmelden"})]})]})})}function Ns(){const[t,s]=o.useState(!1),[r,a]=o.useState({company_name:"Handyklinik Ottobrunn",phone:"089 / 63 28 69 44",email:"info@mnw-mobilfunk.de"});o.useEffect(()=>{n()},[]);const n=async()=>{const{data:l}=await j.from("company_info").select("company_name, phone, email").maybeSingle();l&&a(l)};return e.jsxs("footer",{className:"bg-[#1a1f2e] text-gray-400",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-3 gap-12 mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold mb-4",children:r.company_name}),e.jsx("p",{className:"text-sm leading-relaxed",children:"Ihre Experten für Smartphone- und Tablet-Reparaturen"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold mb-4",children:"Kontakt"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:["Telefon: ",e.jsx("a",{href:`tel:${r.phone.replace(/\s/g,"")}`,className:"hover:text-gray-300 transition-colors",children:r.phone})]}),e.jsxs("li",{children:["E-Mail: ",e.jsx("a",{href:`mailto:${r.email}`,className:"hover:text-gray-300 transition-colors",children:r.email})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold mb-4",children:"Links"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:e.jsx(se,{to:"/impressum",className:"hover:text-gray-300 transition-colors",children:"Impressum"})}),e.jsx("li",{children:e.jsx(se,{to:"/datenschutz",className:"hover:text-gray-300 transition-colors",children:"Datenschutz"})}),e.jsx("li",{children:e.jsx(se,{to:"/cookie-richtlinie",className:"hover:text-gray-300 transition-colors",children:"Cookie Richtlinien"})}),e.jsx("li",{children:e.jsx(se,{to:"/kontakt",className:"hover:text-gray-300 transition-colors",children:"Kontakt"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"© 2025 Handyklinik Ottobrunn – Ein Service der MNW Mobilfunk GmbH"}),e.jsx("button",{onClick:()=>s(!0),className:"text-xs text-gray-600 hover:text-gray-400 transition-colors cursor-pointer",children:"v2.0"})]})})]}),e.jsx(vs,{isOpen:t,onClose:()=>s(!1)})]})}function ws(){const[t,s]=o.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-50 backdrop-blur-sm bg-white/95",children:e.jsx("div",{className:"w-full pl-0 pr-3 sm:pr-4",children:e.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[e.jsx("div",{className:"flex items-center ml-4 sm:ml-8",children:e.jsx(se,{to:"/",className:"flex-shrink-0",children:e.jsx("img",{src:"/handyklinik_logo.png",alt:"Handyklinik Logo",className:"w-auto object-contain h-14 sm:h-[72px]",style:{width:"auto",display:"block",imageRendering:"-webkit-optimize-contrast",WebkitFontSmoothing:"antialiased",backfaceVisibility:"hidden"},fetchPriority:"high"})})}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 md:space-x-4",children:[e.jsxs("a",{href:"tel:08963286944",className:"hidden sm:flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors font-semibold px-3 md:px-4 py-2 rounded-lg hover:bg-blue-50",children:[e.jsx(q,{className:"w-4 h-4 md:w-5 md:h-5"}),e.jsx("span",{className:"text-xs md:text-sm lg:text-base",children:"089 / 63 28 69 44"})]}),e.jsxs("a",{href:"https://wa.me/4989632869444",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 sm:space-x-2 bg-green-500 hover:bg-green-600 text-white px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg font-semibold text-sm sm:text-base transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5","aria-label":"WhatsApp kontaktieren",children:[e.jsx(ae,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"hidden md:inline",children:"WhatsApp"})]}),e.jsx("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-gray-900 px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg font-bold text-sm sm:text-base transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Kontakt"})]})]})})}),e.jsx(Ze,{isOpen:t,onClose:()=>s(!1)})]})}function ks({children:t}){const{user:s,loading:r}=Ye();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(jt,{className:"h-8 w-8 animate-spin text-blue-600"})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(rt,{to:"/",replace:!0})}const _s={red:{bg:"bg-red-50",border:"border-red-200",text:"text-red-900",title:"text-red-800",button:"bg-red-600 hover:bg-red-700"},blue:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900",title:"text-blue-800",button:"bg-blue-600 hover:bg-blue-700"},green:{bg:"bg-green-50",border:"border-green-200",text:"text-green-900",title:"text-green-800",button:"bg-green-600 hover:bg-green-700"},orange:{bg:"bg-orange-50",border:"border-orange-200",text:"text-orange-900",title:"text-orange-800",button:"bg-orange-600 hover:bg-orange-700"},yellow:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-900",title:"text-yellow-800",button:"bg-yellow-600 hover:bg-yellow-700"}};function Ss(){const[t,s]=o.useState(null),[r,a]=o.useState(!1);o.useEffect(()=>{n()},[]);const n=async()=>{try{const c=JSON.parse(sessionStorage.getItem("dismissedAnnouncements")||"[]");let d=j.from("announcements").select("id, title, message, color").eq("is_active",!0).lte("start_date",new Date().toISOString()).gte("end_date",new Date().toISOString()).order("created_at",{ascending:!1});c.length>0&&(d=d.not("id","in",`(${c.join(",")})`));const{data:x,error:u}=await d.limit(1).maybeSingle();if(u)throw u;x&&(s(x),a(!0))}catch(c){console.error("Fehler beim Laden der Ankündigung:",c)}},l=()=>{if(t){const c=JSON.parse(sessionStorage.getItem("dismissedAnnouncements")||"[]");c.push(t.id),sessionStorage.setItem("dismissedAnnouncements",JSON.stringify(c))}a(!1)};if(!r||!t)return null;const i=_s[t.color];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fadeIn",children:[e.jsxs("div",{className:`relative w-full max-w-lg ${i.bg} ${i.border} border-2 rounded-2xl shadow-2xl p-6 md:p-8 animate-slideUp`,role:"dialog","aria-labelledby":"announcement-title","aria-describedby":"announcement-message",children:[e.jsx("button",{onClick:l,className:`absolute top-4 right-4 p-2 rounded-full ${i.button} text-white transition-all hover:scale-110`,"aria-label":"Schließen",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsxs("div",{className:"pr-10",children:[t.title&&e.jsx("h2",{id:"announcement-title",className:`text-2xl md:text-3xl font-bold ${i.title} mb-4`,children:t.title}),e.jsx("p",{id:"announcement-message",className:`text-base md:text-lg ${i.text} whitespace-pre-wrap leading-relaxed`,children:t.message})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:`px-6 py-3 ${i.button} text-white font-semibold rounded-lg transition-all hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50`,children:"Verstanden"})})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes slideUp {
          from {
            transform: translateY(20px);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }

        .animate-slideUp {
          animation: slideUp 0.4s ease-out;
        }
      `})]})}function Cs(){const[t,s]=o.useState(null),[r,a]=o.useState(!1);o.useEffect(()=>{n(),sessionStorage.getItem("vacation_banner_dismissed")==="true"&&a(!0);const c=j.channel("vacation_mode_changes").on("postgres_changes",{event:"*",schema:"public",table:"vacation_mode"},()=>{n()}).subscribe();return()=>{j.removeChannel(c)}},[]);const n=async()=>{try{const{data:i,error:c}=await j.from("vacation_mode").select("*").eq("is_active",!0).eq("show_banner",!0).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(c)throw c;s(i)}catch(i){console.error("Error loading vacation mode:",i)}},l=()=>{a(!0),sessionStorage.setItem("vacation_banner_dismissed","true")};return!t||r?null:e.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-amber-400 text-white shadow-lg relative",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(we,{className:"w-6 h-6 flex-shrink-0 animate-pulse"}),e.jsx("p",{className:"font-semibold text-sm md:text-base",children:t.message})]}),e.jsx("button",{onClick:l,className:"flex-shrink-0 p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":"Banner schließen",children:e.jsx(F,{className:"w-5 h-5"})})]})})})}function As(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1);o.useEffect(()=>{if(!localStorage.getItem("hasSeenVoucherSlideIn")){const c=setTimeout(()=>{s(!0)},6e4);return()=>clearTimeout(c)}},[]);const n=()=>{s(!1),localStorage.setItem("hasSeenVoucherSlideIn","true")},l=()=>{a(!0),n()};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-slide-in-right",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg shadow-2xl max-w-sm overflow-hidden",children:[e.jsx("button",{onClick:n,className:"absolute top-2 right-2 text-white/80 hover:text-white transition-colors",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("button",{onClick:l,className:"w-full text-left p-4 hover:bg-blue-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx(L,{className:"h-8 w-8"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Sichere dir deinen 10€ Gutschein!"}),e.jsx("p",{className:"text-sm text-white/90",children:"Klicke hier und erhalte 10€ Rabatt auf deine nächste Reparatur."})]})]})})]})}),r&&e.jsx(Je,{isOpen:r,onClose:()=>a(!1),initialStep:3})]}):null}const Ts=o.lazy(()=>k(()=>import("./Impressum-D3lyMM45.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),Is=o.lazy(()=>k(()=>import("./Datenschutz-DA-PU7JJ.js"),__vite__mapDeps([5,1,2,3,4]),import.meta.url)),Es=o.lazy(()=>k(()=>import("./AGB-2tcclhB8.js"),__vite__mapDeps([6,1,2,3,4]),import.meta.url)),Ms=o.lazy(()=>k(()=>import("./Kontakt-CP9afoSd.js"),__vite__mapDeps([7,2,3,4]),import.meta.url)),Rs=o.lazy(()=>k(()=>import("./CookieRichtlinie-DNvfTOY5.js"),__vite__mapDeps([8,2,4,3]),import.meta.url)),Os=o.lazy(()=>k(()=>import("./ArticleDetail-CK_XEUVf.js"),__vite__mapDeps([9,2,3,4]),import.meta.url)),zs=o.lazy(()=>k(()=>import("./AdminLayout-CjoTYorI.js"),__vite__mapDeps([10,2,3,4]),import.meta.url)),Ds=o.lazy(()=>k(()=>import("./AdminDashboard-BqL1mXdC.js"),__vite__mapDeps([11,2,3,4]),import.meta.url)),Ps=o.lazy(()=>k(()=>import("./ArticleManager-C0W9PSRZ.js"),__vite__mapDeps([12,2,3,4]),import.meta.url)),$s=o.lazy(()=>k(()=>import("./ContentManager-CiDOEMBg.js"),__vite__mapDeps([13,2,3,4]),import.meta.url)),Ls=o.lazy(()=>k(()=>import("./PageTextManager-BSt-7Kl7.js"),__vite__mapDeps([14,2,3,4]),import.meta.url)),Fs=o.lazy(()=>k(()=>import("./PriceManager-HLhXoS_n.js"),__vite__mapDeps([15,2,3,4]),import.meta.url)),Vs=o.lazy(()=>k(()=>import("./FAQManager-pdoNF9bj.js"),__vite__mapDeps([16,2,3,4]),import.meta.url)),Hs=o.lazy(()=>k(()=>import("./GoogleManager-BS5IwlbW.js"),__vite__mapDeps([17,2,3,4]),import.meta.url)),Us=o.lazy(()=>k(()=>import("./UserManager-D3JmoP82.js"),__vite__mapDeps([18,2,3,4]),import.meta.url)),Ws=o.lazy(()=>k(()=>import("./VoucherManager-DwoJ6fyu.js"),__vite__mapDeps([19,2,3,4]),import.meta.url)),Gs=o.lazy(()=>k(()=>import("./HeroSlideManager-CVOv802N.js"),__vite__mapDeps([20,2,3,4]),import.meta.url)),Bs=o.lazy(()=>k(()=>import("./PopManager-DxGS6jty.js"),__vite__mapDeps([21,2,3,4]),import.meta.url)),Ks=o.lazy(()=>k(()=>import("./LegalConfigManager-Bh11x9A-.js"),__vite__mapDeps([22,2,3,4]),import.meta.url)),qs=o.lazy(()=>k(()=>import("./VacationModeManager-D4UzwGc4.js"),__vite__mapDeps([23,2,3,4]),import.meta.url));function Ys(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}function Js(){return e.jsxs(e.Fragment,{children:[e.jsx(Cs,{}),e.jsx(ws,{}),e.jsx(as,{}),e.jsx(ns,{}),e.jsx(xs,{}),e.jsx(hs,{}),e.jsx(gs,{}),e.jsx(bs,{}),e.jsx(js,{}),e.jsx(ys,{}),e.jsx(Ns,{})]})}function Zs(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(Ss,{}),e.jsx(As,{}),e.jsx(o.Suspense,{fallback:e.jsx(Ys,{}),children:e.jsxs(at,{children:[e.jsx(w,{path:"/",element:e.jsx(Js,{})}),e.jsx(w,{path:"/impressum",element:e.jsx(Ts,{})}),e.jsx(w,{path:"/datenschutz",element:e.jsx(Is,{})}),e.jsx(w,{path:"/agb",element:e.jsx(Es,{})}),e.jsx(w,{path:"/kontakt",element:e.jsx(Ms,{})}),e.jsx(w,{path:"/cookie-richtlinie",element:e.jsx(Rs,{})}),e.jsx(w,{path:"/artikel/:slug",element:e.jsx(Os,{})}),e.jsxs(w,{path:"/admin",element:e.jsx(ks,{children:e.jsx(zs,{})}),children:[e.jsx(w,{index:!0,element:e.jsx(Ds,{})}),e.jsx(w,{path:"hero-slides",element:e.jsx(Gs,{})}),e.jsx(w,{path:"articles",element:e.jsx(Ps,{})}),e.jsx(w,{path:"content",element:e.jsx($s,{})}),e.jsx(w,{path:"page-texts",element:e.jsx(Ls,{})}),e.jsx(w,{path:"prices",element:e.jsx(Fs,{})}),e.jsx(w,{path:"faq",element:e.jsx(Vs,{})}),e.jsx(w,{path:"google",element:e.jsx(Hs,{})}),e.jsx(w,{path:"vouchers",element:e.jsx(Ws,{})}),e.jsx(w,{path:"users",element:e.jsx(Us,{})}),e.jsx(w,{path:"pop",element:e.jsx(Bs,{})}),e.jsx(w,{path:"legal-config",element:e.jsx(Ks,{})}),e.jsx(w,{path:"vacation",element:e.jsx(qs,{})})]})]})})]})}Fe(document.getElementById("root")).render(e.jsx(o.StrictMode,{children:e.jsx(Ke,{children:e.jsx(nt,{children:e.jsx(rs,{children:e.jsx(Zs,{})})})})}));export{Ns as F,ws as H,Cs as V,sr as a,e as j,j as s,Ye as u};
